{"file":"index-B0sJqS7y.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA,UAAM,eAAe,IAAI,EAAE;AAgB3B,UAAM,YAAY,IAAI,EAAE;AAkBxB,UAAM,cAAc,IAAI,EAAE;AAC1B,UAAM,OAAO,IAAI;AAAA,MACb,MAAM;AAAA,MACN,UAAU;AAAA,MACV,OAAO;AAAA,MACP,QAAQ;AAAA,MACR,MAAM;AAAA,IACV,CAAC;AACD,UAAM,aAAa,YAAY;AAC3B,UAAI;AACA,cAAM,MAAM,MAAM,YAAW,EAAG,KAAK,mBAAmB,KAAK,KAAK;AAClE,YAAI,IAAI,QAAQ,KAAK;AACjB,sBAAY,QAAQ,IAAI;AACxB,eAAK,MAAM,QAAQ,IAAI;AAAA,QAC3B,OAAO;AACH,kBAAQ,MAAM,IAAI,WAAW,UAAU;AAAA,QAC3C;AAAA,MACJ,SAAS,OAAO;AACZ,gBAAQ,MAAM,MAAM,OAAO;AAAA,MAC/B;AAAA,IACJ;;;;;;;;;;;;;mBAvISA,eAAAC,WAAA,EAAA,OAAM,UAAS,GAAA,MAAA,CAAA,uIAICC,cAAA,OAAA,UAAmB;;QAIf,OAAM;AAAA,QAAwB,YAAA,KAAA,MAAK;AAAA,QAAL,uBAAA,YAAA,KAAA,MAAK,SAAM;AAAA,QAAE,aAAY;AAAA,QAAU,eAAA;AAAA;QAC3D,gBAAX,CAEW,GAAAC,QAAAC,UAAA,aAAA;;;;;cADPC,YAAe,sBAAA;AAAA;;;;;;QAGb,MAAK;AAAA,QAAU,OAAM;AAAA,QAAY,sBAAOC,gBAAAA,OAAAA,KAAAA,aAAAA,MAAAA,UAAAA,GAAU,MAAA;AAAA;QAC7C,cAAX,CAEW,GAAAH,QAAAC,UAAA,aAAA;;;;;cADPC,YAAa,oBAAA;AAAA;;;QAEN,iBAAX,CAAmC,GAAAF,QAAAC,UAAA,aAAA;;;;;8BAAhB,OAAK;AAAA;;;;;;;QAInB,MAAM;AAAA;;;;;;;;;;;;;;;;QAiBd;AAAA,QAAU,YAAY,KAAA,MAAK;AAAA,QAAL,uBAAA,YAAA,KAAA,MAAK,OAAI;AAAA,QAAG,UAAQ;AAAA;;AAIxBG,oBAAA,YAAA,QAAT,UAAK;;UAAkB,KAAK,MAAM;AAAA,UAAK,MAAM;AAAA;;;AAI/B,UAAA,YAAA,MAAY,UAAM,GAAA;yDAFhC,EAAA,SAAA,QAAA,oBAAA,QAAA,iBAAA,OAAA,CAEO,CAAA,oBAAA;;UACV,QAAQ;AAAA,UAAM,OAAM;AAAA,UAAM,UAAS;AAAA;UAC/B,cAAX,CAEW,GAAAJ,QAAAC,UAAA,aAAA;;;;;gBADPC,YAAqB,4BAAA;AAAA;;;;;;;;;;;QAKd,UAAQ;AAAA,QAAa,kBAAkB;AAAA,QAAoB,SAAS,KAAA,MAAK;AAAA,QAAL,oBAAA,YAAA,KAAA,MAAK,OAAI;AAAA,QAChF,UAAU,KAAA,MAAK;AAAA,QAAL,qBAAA,YAAA,KAAA,MAAK,WAAQ;AAAA,QAAG,OAAO,KAAA,MAAK;AAAA,QAAO,MAAK;AAAA,QAAO,cAAA;AAAA;AAM5D,YAAA,oIAAAH,cAAA,OAzDA,UAAmB,CAAA,yEAAA;AA4DDK,oBAAA,aAAA,QAAT,UAAK;;UAAmB,KAAK,MAAM;AAAA,UAAS,MAAM;AAAA;;AAI3D,YAAA,4FAAAL,cAAA,OAhEA,UAAmB,CAAA,yEAAA;AAmEDK,oBAAA,UAAA,QAAT,UAAK;;UAAgB,KAAK,MAAM;AAAA,UAAS,MAAM;AAAA;;;;;;;;;;;;;","names":["_ssrRenderAttrs","_mergeProps","_ssrRenderAttr","_push","_parent","_createVNode","navigateTo","_ssrRenderList"],"sources":["../../../../pages/index/index/index.vue"],"sourcesContent":["<template>\r\n    <div class=\"MainBox\">\r\n        <div class=\"MainContent\">\r\n            <div class=\"TopB\">\r\n                <div class=\"title\">\r\n                    <img src=\"/assets/1.png\" alt=\"\">\r\n                    <span>花花世界迷人眼</span>\r\n                </div>\r\n                <div class=\"TopBox\">\r\n                    <a-input class=\"search-input\" v-model=\"from.search\" placeholder=\"请输入搜索内容\" allow-clear>\r\n                        <template #prefix>\r\n                            <icon-search />\r\n                        </template>\r\n                    </a-input>\r\n                    <a-button type=\"primary\" class=\"send-btn\" @click=\"navigateTo('/add')\">\r\n                        <template #icon>\r\n                            <icon-send />\r\n                        </template>\r\n                        <template #default>我有瓜要曝</template>\r\n                    </a-button>\r\n                </div>\r\n                <div class=\"select\">\r\n                    <NavBox :Item=\"[\r\n                        {\r\n                            value: 'id',\r\n                            name: '最新贴子'\r\n                        },\r\n                        {\r\n                            value: 'n_msglastTime',\r\n                            name: '最新回复'\r\n                        },\r\n                        {\r\n                            value: 'n_starts',\r\n                            name: '点赞最多'\r\n                        },\r\n                         {\r\n                            value: 'n_read',\r\n                            name: '阅读最多'\r\n                        },\r\n                    ]\" v-model:modelValue=\"from.sort\" @change=\"GetThreads\"></NavBox>\r\n                </div>\r\n            </div>\r\n            <div class=\"content-box\">\r\n                <ItemA v-for=\"value in ThreadsList\" :key=\"value.id\" :data=\"value\"></ItemA>\r\n            </div>\r\n            <div class=\"Isno\" style=\"  width: 100%;\r\n                background-color: #fff;\r\n                border-radius: 10px;\" v-if=\"ThreadsList.length == 0\">\r\n                <a-result :status=\"null\" title=\"无内容\" subtitle=\"哎呀，没有内容了\">\r\n                    <template #icon>\r\n                        <IconFaceSmileFill />\r\n                    </template>\r\n                </a-result>\r\n            </div>\r\n            <div class=\"PageNav\">\r\n                <a-pagination @change=\"GetThreads\" @page-size-change=\"GetThreads\" v-model:current=\"from.page\"\r\n                    v-model:pageSize=\"from.pagesize\" :total=\"from.total\" size=\"mini\" show-total />\r\n            </div>\r\n        </div>\r\n        <div class=\"SidebarRight\">\r\n            <div class=\"NavBar\">\r\n                <div class=\"title\">\r\n                    <img src=\"/assets/1.png\" alt=\"\">\r\n                    <span>热门圈子</span>\r\n                </div>\r\n                <ClassItem v-for=\"value in CategoryList\" :key=\"value.n_name\" :data=\"value\"></ClassItem>\r\n            </div>\r\n            <div class=\"NavBar\">\r\n                <div class=\"title\">\r\n                    <img src=\"/assets/1.png\" alt=\"\">\r\n                    <span>热门话题</span>\r\n                </div>\r\n                <TopicItem v-for=\"value in TopicList\" :key=\"value.n_name\" :data=\"value\"></TopicItem>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\n/* 获取分类列表 GetCategory */\r\nconst CategoryList = ref([])\r\nconst GetCategory = async () => {\r\n    try {\r\n        const res = await useApiFetch().post('/api/GetCategory')\r\n        if (res.code == 200) {\r\n            CategoryList.value = res.data\r\n        } else {\r\n            Message.error(res.message || '获取分类列表失败')\r\n        }\r\n\r\n    } catch (error) {\r\n        Message.error(error.message)\r\n    }\r\n}\r\n\r\n/* 获取话题列表 */\r\nconst TopicList = ref([])\r\nconst GetTopicList = async () => {\r\n    try {\r\n        const res = await useApiFetch().post('/api/GetCategory', {\r\n            type: 2\r\n        })\r\n        if (res.code == 200) {\r\n            TopicList.value = res.data\r\n        } else {\r\n            Message.error(res.message || '获取分类列表失败')\r\n        }\r\n\r\n    } catch (error) {\r\n        Message.error(error.message)\r\n    }\r\n}\r\n\r\n/* 获取文章列表 GetThreads */\r\nconst ThreadsList = ref([])\r\nconst from = ref({\r\n    page: 1,\r\n    pagesize: 10,\r\n    total: 0,\r\n    search: '',\r\n    sort: 'id'\r\n})\r\nconst GetThreads = async () => {\r\n    try {\r\n        const res = await useApiFetch().post('/api/GetThreads', from.value)\r\n        if (res.code == 200) {\r\n            ThreadsList.value = res.data\r\n            from.value.total = res.total\r\n        } else {\r\n            Message.error(res.message || '获取文章列表失败')\r\n        }\r\n    } catch (error) {\r\n        Message.error(error.message)\r\n    }\r\n}\r\n\r\nonMounted(() => {\r\n    GetCategory()\r\n    GetTopicList()\r\n    GetThreads()\r\n})\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n.title {\r\n    display: flex;\r\n    line-height: 30px;\r\n    gap: 4px;\r\n    margin-bottom: 10px;\r\n\r\n    img {\r\n        width: 20px;\r\n        height: 20px;\r\n        margin: 5px;\r\n    }\r\n}\r\n\r\n/* 视口大于768px时的样式 */\r\n@media (min-width: 768px) {\r\n    .MainBox {\r\n        display: flex;\r\n        width: 100%;\r\n\r\n        .MainContent {\r\n            width: calc(100% - 250px);\r\n\r\n            .TopB {\r\n                width: calc(100% - 20px);\r\n                padding: 10px;\r\n                background-color: #fff;\r\n                border-radius: 10px;\r\n\r\n                .select {\r\n                    margin-top: 10px;\r\n                    margin-left: 4px;\r\n                }\r\n\r\n                .TopBox {\r\n\r\n                    display: flex;\r\n\r\n                    .search-input {\r\n                        width: calc(100% - 120px);\r\n                        border-radius: 7px;\r\n                    }\r\n\r\n                    .send-btn {\r\n                        border-radius: 7px;\r\n                        margin-left: 10px;\r\n                        background-color: rgb(0, 209, 129);\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n\r\n            .content-box {\r\n                width: calc(100%);\r\n                margin-top: 10px;\r\n                column-count: 2;\r\n                column-gap: 10px;\r\n\r\n                :deep(.Itemlist) {\r\n                    break-inside: avoid;\r\n                    margin-bottom: 10px;\r\n                }\r\n            }\r\n\r\n            .PageNav {\r\n                width: calc(100% - 20px);\r\n                margin-top: 10px;\r\n                display: flex;\r\n                padding: 10px;\r\n                border-radius: 10px;\r\n                background-color: #fff;\r\n                justify-content: center;\r\n            }\r\n\r\n\r\n        }\r\n\r\n        .SidebarRight {\r\n            max-height: calc(100vh - 180px);\r\n            overflow: hidden;\r\n            overflow-y: auto;\r\n            margin-left: 10px;\r\n\r\n            /* 隐藏滚动条 */\r\n            &::-webkit-scrollbar {\r\n                display: none;\r\n            }\r\n\r\n            .NavBar {\r\n                width: calc(250px - 20px);\r\n                padding: 10px 10px;\r\n                border-radius: 10px;\r\n                background-color: #fff;\r\n                margin-bottom: 10px;\r\n\r\n                .Item {\r\n                    width: calc(100% - 20px);\r\n                    padding: 10px 0;\r\n                    cursor: pointer;\r\n\r\n                    p {\r\n                        font-size: 16px;\r\n                        color: #333;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n\r\n/* 视口小于768px时的样式 */\r\n@media (max-width: 768px) {\r\n    .MainBox {\r\n        display: flex;\r\n        width: 100%;\r\n\r\n        .MainContent {\r\n            width: calc(100%);\r\n\r\n          .TopB {\r\n                width: calc(100% - 20px);\r\n                padding: 10px;\r\n                background-color: #fff;\r\n                border-radius: 10px;\r\n\r\n                .select {\r\n                    margin-top: 10px;\r\n                    margin-left: 4px;\r\n                }\r\n\r\n                .TopBox {\r\n\r\n                    display: flex;\r\n\r\n                    .search-input {\r\n                        width: calc(100% - 120px);\r\n                        border-radius: 7px;\r\n                    }\r\n\r\n                    .send-btn {\r\n                        border-radius: 7px;\r\n                        margin-left: 10px;\r\n                        background-color: rgb(0, 209, 129);\r\n                    }\r\n                }\r\n\r\n            }\r\n\r\n            .content-box {\r\n                width: calc(100%);\r\n                margin-top: 10px;\r\n                column-count: 1;\r\n                column-gap: 10px;\r\n\r\n                :deep(.Itemlist) {\r\n                    break-inside: avoid;\r\n                    margin-bottom: 10px;\r\n                }\r\n            }\r\n\r\n            .PageNav {\r\n                width: calc(100% - 20px);\r\n                margin-top: 10px;\r\n                display: flex;\r\n                padding: 10px;\r\n                border-radius: 10px;\r\n                background-color: #fff;\r\n                justify-content: center;\r\n            }\r\n\r\n\r\n        }\r\n\r\n        .SidebarRight {\r\n            max-height: calc(100vh - 180px);\r\n            overflow: hidden;\r\n            overflow-y: auto;\r\n            margin-left: 10px;\r\n            display: none;\r\n\r\n            /* 隐藏滚动条 */\r\n            &::-webkit-scrollbar {\r\n                display: none;\r\n            }\r\n\r\n            .NavBar {\r\n                width: calc(250px - 20px);\r\n                padding: 10px 10px;\r\n                border-radius: 10px;\r\n                background-color: #fff;\r\n                margin-bottom: 10px;\r\n\r\n                .Item {\r\n                    width: calc(100% - 20px);\r\n                    padding: 10px 0;\r\n                    cursor: pointer;\r\n\r\n                    p {\r\n                        font-size: 16px;\r\n                        color: #333;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n}\r\n</style>"],"version":3}