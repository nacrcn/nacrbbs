import{_ as H}from"./BfRduO-u.js";import{_ as J}from"./fAYe6Kx_.js";import{_ as K}from"./DL84iVox.js";import{_ as O}from"./TdlKPHnJ.js";import{_ as Q}from"./DKGUmpY2.js";import{B as W}from"./DZyT-3wr.js";import"./DRQ8spOm.js";import"./lDd3phAc.js";import"./BiNgaM9F.js";import"./CWvt8Gu3.js";import{P as X}from"./C_lFDQdh.js";import{R as Y}from"./DTrhiYp5.js";import{p as Z,i as tt,h as st,r as c,x as et,e as ot,c as r,a as t,g,k as at,j as s,t as p,b as d,w as S,n as nt,z as it,A as rt,F as y,v as C,y as lt,q as k,m as ct,o as n,d as dt,s as I}from"./CbujNTzC.js";import{_ as N}from"./C4Ghd-f4.js";import{u as mt}from"./DrTY0QbX.js";import{_ as _t}from"./DlAUqK2U.js";import{M as l}from"./C4FomA2R.js";import"./B_wNtzkc.js";import"./Ba22RDed.js";import"./7FLWgqLH.js";import"./DcU8bM7c.js";import"./C2r7KKOo.js";import"./k-1F5wz5.js";import"./BC6OM_U-.js";import"./CYhUeftq.js";import"./FmfuZiTj.js";import"./BW_FzNZC.js";import"./BgSTSfhd.js";const pt={class:"Pageas"},ut={class:"PageContent"},gt={class:"UserInfo"},vt={class:"TopBox"},ft={class:"UserInfoBox"},ht={class:"TInfo"},yt={class:"n_avatar"},Ct=["src"],kt={class:"UserInfos"},It={class:"nickname"},xt={class:"signature"},bt={key:0,class:"Follow"},wt={class:"stats"},zt={class:"Item"},St={class:"Value"},Bt={class:"Item"},Ut={class:"Value"},Lt={class:"Item"},Gt={class:"Value"},Vt={class:"Item"},Ft={class:"Value"},Nt={class:"NavBox"},Tt={key:0},Pt={class:"content-box"},At={key:0,class:"Isno",style:{width:"100%","background-color":"#fff","border-radius":"10px"}},Rt={class:"PageNav"},$t={key:1},Mt={class:"content-box"},jt={key:0,class:"Isno",style:{width:"100%","background-color":"#fff","border-radius":"10px"}},qt={class:"PageNav"},Dt={class:"Right"},Et={class:"NavBar"},Ht={class:"NavBar"},Jt={__name:"[id]",async setup(Kt){let v,B;const f=Z().params.id,T=tt(),P=st(),i=c({}),x=([v,B]=et(()=>lt("GetUser"+f,"/api/GetUser",{id:f})),v=await v,B(),v);x.code==200?i.value=x.data:l.error(x.message||"获取用户信息失败"),mt({title:i.value.n_nickname+" - "+T.$state.Config.n_web_title});const U=c([]),A=async()=>{try{const e=await k().post("/api/GetCategory");e.code==200?U.value=e.data:l.error(e.message||"获取分类列表失败")}catch(e){l.error(e.message)}},L=c([]),R=async()=>{try{const e=await k().post("/api/GetCategory",{type:2});e.code==200?L.value=e.data:l.error(e.message||"获取分类列表失败")}catch(e){l.error(e.message)}},b=c([]),m=c({page:1,pagesize:10,total:0,uid:f}),w=async()=>{try{const e=await k().post("/api/GetThreads",m.value);e.code==200?(b.value=e.data,m.value.total=e.total):l.error(e.message||"获取文章列表失败")}catch(e){l.error(e.message)}},_=c({page:1,pagesize:20,uid:f,total:0}),z=c([]),h=async()=>{try{const e=await k().post("/api/GetComments",_.value);e.code==200?(z.value=e.data,_.value.total=e.total):l.error(e.message||"获取评论列表失败")}catch(e){l.error(e.message)}};ot(()=>{A(),R(),h(),w()});const u=c("1");return(e,o)=>{const $=W,M=H,j=J,G=ct("IconFaceSmileFill"),V=Y,F=X,q=K,D=O,E=Q;return n(),r("div",pt,[t("div",ut,[t("div",gt,[t("div",vt,[t("div",{class:"TopBoxbACS",style:at({backgroundImage:`url(${s(i).n_userback||"/default-banner.jpg"})`})},[...o[6]||(o[6]=[t("div",{class:"BackgroundImage"},null,-1)])],4),t("div",ft,[t("div",ht,[t("div",yt,[t("img",{src:s(i).n_avatar,alt:""},null,8,Ct)]),t("div",kt,[t("p",It,p(s(i).n_nickname),1),t("p",xt,p(s(i).n_signature),1),s(P).$state.UserInfo?.id!==s(i).id?(n(),r("div",bt,[d($,{loading:e.loading,onClick:o[0]||(o[0]=it(a=>e.LikeUser(),["stop"])),class:nt(["FollowBtn",{Close:s(i).isLiked}]),type:"primary"},{default:S(()=>[dt(p(s(i).isLiked?"取消关注":"关注"),1)]),_:1},8,["loading","class"])])):g("",!0)])]),t("div",wt,[t("div",zt,[t("p",St,p(s(i)?.posts||0),1),o[7]||(o[7]=t("p",{class:"Label"},"发帖数",-1))]),t("div",Bt,[t("p",Ut,p(s(i)?.n_comment||0),1),o[8]||(o[8]=t("p",{class:"Label"},"评论数",-1))]),t("div",Lt,[t("p",Gt,p(s(i)?.followers||0),1),o[9]||(o[9]=t("p",{class:"Label"},"粉丝数",-1))]),t("div",Vt,[t("p",Ft,p(s(i)?.following||0),1),o[10]||(o[10]=t("p",{class:"Label"},"关注数",-1))])])])]),t("div",Nt,[d(M,{Item:[{value:"1",name:"他的帖子"},{value:"2",name:"他的评论"}],modelValue:s(u),"onUpdate:modelValue":o[1]||(o[1]=a=>rt(u)?u.value=a:null)},null,8,["modelValue"])]),s(u)==="1"?(n(),r("div",Tt,[t("div",Pt,[(n(!0),r(y,null,C(s(b),a=>(n(),I(j,{key:a.id,data:a},null,8,["data"]))),128))]),s(b).length==0?(n(),r("div",At,[d(V,{status:null,title:"无内容",subtitle:"哎呀，没有内容了"},{icon:S(()=>[d(G)]),_:1})])):g("",!0),t("div",Rt,[d(F,{onChange:w,onPageSizeChange:w,current:s(m).page,"onUpdate:current":o[2]||(o[2]=a=>s(m).page=a),pageSize:s(m).pagesize,"onUpdate:pageSize":o[3]||(o[3]=a=>s(m).pagesize=a),total:s(m).total,size:"mini","show-total":""},null,8,["current","pageSize","total"])])])):g("",!0),s(u)==="2"?(n(),r("div",$t,[t("div",Mt,[(n(!0),r(y,null,C(s(z),a=>(n(),I(q,{key:a.id,data:a,onReload:h},null,8,["data"]))),128))]),s(z).length==0?(n(),r("div",jt,[d(V,{status:null,title:"无内容",subtitle:"哎呀，没有内容了"},{icon:S(()=>[d(G)]),_:1})])):g("",!0),t("div",qt,[d(F,{onChange:h,onPageSizeChange:h,current:s(_).page,"onUpdate:current":o[4]||(o[4]=a=>s(_).page=a),pageSize:s(_).pagesize,"onUpdate:pageSize":o[5]||(o[5]=a=>s(_).pagesize=a),total:s(_).total,size:"mini","show-total":""},null,8,["current","pageSize","total"])])])):g("",!0)]),t("div",Dt,[t("div",Et,[o[11]||(o[11]=t("div",{class:"title"},[t("img",{src:N,alt:""}),t("span",null,"热门圈子")],-1)),(n(!0),r(y,null,C(s(U),a=>(n(),I(D,{key:a.n_name,data:a},null,8,["data"]))),128))]),t("div",Ht,[o[12]||(o[12]=t("div",{class:"title"},[t("img",{src:N,alt:""}),t("span",null,"热门话题")],-1)),(n(!0),r(y,null,C(s(L),a=>(n(),I(E,{key:a.n_name,data:a},null,8,["data"]))),128))])])])])}}},xs=_t(Jt,[["__scopeId","data-v-5a7ea233"]]);export{xs as default};
