import{_ as $}from"./fAYe6Kx_.js";import{_ as A}from"./DKGUmpY2.js";import{B as P}from"./DZyT-3wr.js";import"./DRQ8spOm.js";import"./lDd3phAc.js";import"./BiNgaM9F.js";import"./CWvt8Gu3.js";import{P as R}from"./C_lFDQdh.js";import{R as U}from"./DTrhiYp5.js";import{S as V}from"./BC6OM_U-.js";import{_ as j}from"./C4Ghd-f4.js";import{p as q,r as p,x as D,l as E,e as H,c,a as t,k as J,b as l,t as m,w as f,n as d,g as K,F as k,v as x,y as O,q as S,m as T,o as r,s as b}from"./CbujNTzC.js";import{_ as Q}from"./DlAUqK2U.js";import"./B_wNtzkc.js";import"./Ba22RDed.js";import"./C4FomA2R.js";import"./7FLWgqLH.js";import"./DcU8bM7c.js";import"./C2r7KKOo.js";import"./k-1F5wz5.js";import"./CYhUeftq.js";import"./FmfuZiTj.js";import"./BW_FzNZC.js";const W={class:"MainBox"},X={class:"Left"},Y={class:"ThreadInfo"},Z={class:"TopBox"},tt={class:"Icon"},st=["src"],et={class:"Info"},ot={class:"Tag"},at={class:"Tag"},nt={class:"ButtonSection"},it={class:"NavLisbox"},lt={class:"threads"},rt={class:"content-box"},pt={key:0,class:"Isno",style:{width:"100%","background-color":"#fff","border-radius":"10px"}},dt={class:"PageNav"},ut={class:"Right"},ct={class:"NavBar"},mt={__name:"[id]",async setup(vt){let u,y;const v=q().params.id,a=p(1),n=p({}),C=([u,y]=D(()=>O("GetCategoryInfo"+v,"/api/GetCategory",{id:v})),u=await u,y(),u);C.code===200?n.value=C.data:E("/tools/error");const _=p([]),i=p({page:1,pagesize:10,total:0,cidt:v}),g=async()=>{try{const o=await S().post("/api/GetThreads",i.value);o.code==200?(_.value=o.data,i.value.total=o.total):Message.error(o.message||"获取文章列表失败")}catch(o){Message.error(o.message)}},I=p([]),B=async()=>{try{const o=await S().post("/api/GetCategory",{type:2});o.code==200?I.value=o.data:Message.error(o.message||"获取分类列表失败")}catch(o){Message.error(o.message)}};return H(()=>{B(),g()}),(o,s)=>{const z=V,w=T("icon-more"),h=P,F=$,M=T("IconFaceSmileFill"),G=U,L=R,N=A;return r(),c("div",W,[t("div",X,[t("div",{class:"MainContent",style:J({backgroundImage:`url(${n.value.n_icon||"/default-banner.jpg"})`})},[t("div",Y,[s[7]||(s[7]=t("div",{class:"TopBoxbACS"},null,-1)),t("div",Z,[t("div",tt,[t("img",{src:n.value.n_icon,alt:""},null,8,st)]),t("div",et,[t("h1",null,m(n.value.n_name),1),t("p",null,m(n.value.n_note),1),l(z,{wrap:"",class:"Category"},{default:f(()=>[t("div",ot,[t("span",null,"贴子："+m(n.value.n_threads),1)]),t("div",at,[t("span",null,"热度："+m(n.value.n_hotnum),1)])]),_:1})])]),t("div",nt,[l(h,null,{icon:f(()=>[l(w)]),_:1})])])],4),t("div",it,[t("div",{class:d(["Item",{active:a.value===1}]),onClick:s[0]||(s[0]=e=>a.value=1)},[...s[8]||(s[8]=[t("span",null,"最新帖子",-1)])],2),t("div",{class:d(["Item",{active:a.value===2}]),onClick:s[1]||(s[1]=e=>a.value=2)},[...s[9]||(s[9]=[t("span",null,"热门帖子",-1)])],2),t("div",{class:d(["Item",{active:a.value===3}]),onClick:s[2]||(s[2]=e=>a.value=3)},[...s[10]||(s[10]=[t("span",null,"图片",-1)])],2),t("div",{class:d(["Item",{active:a.value===4}]),onClick:s[3]||(s[3]=e=>a.value=4)},[...s[11]||(s[11]=[t("span",null,"视频",-1)])],2),t("div",{class:d(["Item",{active:a.value===5}]),onClick:s[4]||(s[4]=e=>a.value=5)},[...s[12]||(s[12]=[t("span",null,"悬赏贴",-1)])],2)]),t("div",lt,[t("div",rt,[(r(!0),c(k,null,x(_.value,e=>(r(),b(F,{key:e.id,data:e},null,8,["data"]))),128))]),_.value.length==0?(r(),c("div",pt,[l(G,{status:null,title:"无内容",subtitle:"哎呀，没有内容了"},{icon:f(()=>[l(M)]),_:1})])):K("",!0),t("div",dt,[l(L,{onChange:g,onPageSizeChange:g,current:i.value.page,"onUpdate:current":s[5]||(s[5]=e=>i.value.page=e),pageSize:i.value.pagesize,"onUpdate:pageSize":s[6]||(s[6]=e=>i.value.pagesize=e),total:i.value.total,size:"mini","show-total":""},null,8,["current","pageSize","total"])])])]),t("div",ut,[s[14]||(s[14]=t("div",{class:"UserInfo"},null,-1)),t("div",ct,[s[13]||(s[13]=t("div",{class:"title"},[t("img",{src:j,alt:""}),t("span",null,"热门话题")],-1)),(r(!0),c(k,null,x(I.value,e=>(r(),b(N,{key:e.n_name,data:e},null,8,["data"]))),128))])])])}}},Ut=Q(mt,[["__scopeId","data-v-b608d8a0"]]);export{Ut as default};
