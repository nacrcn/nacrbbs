import{B as j,C as $,c as S,o as b,D as P,d as U,t as E,k as X,n as g,E as z,G as o,m as k,s as q,w as Y,au as x,av as ee,a4 as ae,b as p,aw as te,g as M,F as ne,a as T,r as F,U as L,Z as le,K as N,Q as se,R as ie,aj as re,H as ue,I as oe}from"./CbujNTzC.js";import{u as D}from"./Ba22RDed.js";import{I as pe}from"./FmfuZiTj.js";import{S as ce}from"./lDd3phAc.js";import{a as de}from"./DZyT-3wr.js";const me=$({name:"Pager",props:{pageNumber:{type:Number},current:{type:Number},disabled:{type:Boolean,default:!1},style:{type:Object},activeStyle:{type:Object}},emits:["click"],setup(e,{emit:n}){const a=z("pagination-item"),l=o(()=>e.current===e.pageNumber),i=c=>{e.disabled||n("click",e.pageNumber,c)},u=o(()=>[a,{[`${a}-active`]:l.value}]),s=o(()=>l.value?e.activeStyle:e.style);return{prefixCls:a,cls:u,mergedStyle:s,handleClick:i}}});function fe(e,n,a,l,i,u){return b(),S("li",{class:g(e.cls),style:X(e.mergedStyle),onClick:n[0]||(n[0]=(...s)=>e.handleClick&&e.handleClick(...s))},[P(e.$slots,"default",{page:e.pageNumber},()=>[U(E(e.pageNumber),1)])],6)}var ge=j(me,[["render",fe]]);const H=(e,{min:n,max:a})=>e<n?n:e>a?a:e,be=$({name:"StepPager",components:{IconLeft:ae,IconRight:ee},props:{pages:{type:Number,required:!0},current:{type:Number,required:!0},type:{type:String,required:!0},disabled:{type:Boolean,default:!1},simple:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:n}){const a=z("pagination-item"),l=e.type==="next",i=o(()=>e.disabled?e.disabled:!e.pages||l&&e.current===e.pages?!0:!l&&e.current<=1),u=o(()=>H(e.current+(l?1:-1),{min:1,max:e.pages})),s=v=>{i.value||n("click",u.value)},c=o(()=>[a,`${a}-${e.type}`,{[`${a}-disabled`]:i.value}]);return{prefixCls:a,cls:c,isNext:l,handleClick:s}}});function ve(e,n,a,l,i,u){const s=k("icon-right"),c=k("icon-left");return b(),q(x(e.simple?"span":"li"),{class:g(e.cls),onClick:e.handleClick},{default:Y(()=>[P(e.$slots,"default",{type:e.isNext?"next":"previous"},()=>[e.isNext?(b(),q(s,{key:0})):(b(),q(c,{key:1}))])]),_:3},8,["class","onClick"])}var _=j(be,[["render",ve]]);const ye=$({name:"EllipsisPager",components:{IconMore:te},props:{current:{type:Number,required:!0},step:{type:Number,default:5},pages:{type:Number,required:!0}},emits:["click"],setup(e,{emit:n}){const a=z("pagination-item"),l=o(()=>H(e.current+e.step,{min:1,max:e.pages})),i=s=>{n("click",l.value)},u=o(()=>[a,`${a}-ellipsis`]);return{prefixCls:a,cls:u,handleClick:i}}});function he(e,n,a,l,i,u){const s=k("icon-more");return b(),S("li",{class:g(e.cls),onClick:n[0]||(n[0]=(...c)=>e.handleClick&&e.handleClick(...c))},[P(e.$slots,"default",{},()=>[p(s)])],2)}var Ce=j(ye,[["render",he]]);const Se=$({name:"PageJumper",components:{InputNumber:pe},props:{current:{type:Number,required:!0},simple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},pages:{type:Number,required:!0},size:{type:String},onChange:{type:Function}},emits:["change"],setup(e,{emit:n}){const a=z("pagination-jumper"),{t:l}=D(),i=F(e.simple?e.current:void 0),u=v=>{const h=parseInt(v.toString(),10);return Number.isNaN(h)?void 0:String(h)},s=v=>{n("change",i.value),le(()=>{e.simple||(i.value=void 0)})};L(()=>e.current,v=>{e.simple&&v!==i.value&&(i.value=v)});const c=o(()=>[a,{[`${a}-simple`]:e.simple}]);return{prefixCls:a,cls:c,t:l,inputValue:i,handleChange:s,handleFormatter:u}}});function $e(e,n,a,l,i,u){const s=k("input-number");return b(),S("span",{class:g(e.cls)},[e.simple?M("v-if",!0):(b(),S("span",{key:0,class:g([`${e.prefixCls}-prepend`,`${e.prefixCls}-text-goto`])},[P(e.$slots,"jumper-prepend",{},()=>[U(E(e.t("pagination.goto")),1)])],2)),p(s,{modelValue:e.inputValue,"onUpdate:modelValue":n[0]||(n[0]=c=>e.inputValue=c),class:g(`${e.prefixCls}-input`),min:1,max:e.pages,size:e.size,disabled:e.disabled,"hide-button":"",formatter:e.handleFormatter,onChange:e.handleChange},null,8,["modelValue","class","max","size","disabled","formatter","onChange"]),e.$slots["jumper-append"]?(b(),S("span",{key:1,class:g(`${e.prefixCls}-append`)},[P(e.$slots,"jumper-append")],2)):M("v-if",!0),e.simple?(b(),S(ne,{key:2},[T("span",{class:g(`${e.prefixCls}-separator`)},"/",2),T("span",{class:g(`${e.prefixCls}-total-page`)},E(e.pages),3)],64)):M("v-if",!0)],2)}var G=j(Se,[["render",$e]]);const ze=$({name:"PageOptions",components:{ArcoSelect:ce},props:{sizeOptions:{type:Array,required:!0},pageSize:Number,disabled:Boolean,size:{type:String},onChange:{type:Function},selectProps:{type:Object}},emits:["change"],setup(e,{emit:n}){const a=z("pagination-options"),{t:l}=D(),i=o(()=>e.sizeOptions.map(s=>({value:s,label:`${s} ${l("pagination.countPerPage")}`})));return{prefixCls:a,options:i,handleChange:s=>{n("change",s)}}}});function Ne(e,n,a,l,i,u){const s=k("arco-select");return b(),S("span",{class:g(e.prefixCls)},[p(s,N({"model-value":e.pageSize,options:e.options,size:e.size,disabled:e.disabled},e.selectProps,{onChange:e.handleChange}),null,16,["model-value","options","size","disabled","onChange"])],2)}var Pe=j(ze,[["render",Ne]]),A=$({name:"Pagination",props:{total:{type:Number,required:!0},current:Number,defaultCurrent:{type:Number,default:1},pageSize:Number,defaultPageSize:{type:Number,default:10},disabled:{type:Boolean,default:!1},hideOnSinglePage:{type:Boolean,default:!1},simple:{type:Boolean,default:!1},showTotal:{type:Boolean,default:!1},showMore:{type:Boolean,default:!1},showJumper:{type:Boolean,default:!1},showPageSize:{type:Boolean,default:!1},pageSizeOptions:{type:Array,default:()=>[10,20,30,40,50]},pageSizeProps:{type:Object},size:{type:String},pageItemStyle:{type:Object},activePageItemStyle:{type:Object},baseSize:{type:Number,default:6},bufferSize:{type:Number,default:2},autoAdjust:{type:Boolean,default:!0}},emits:{"update:current":e=>!0,"update:pageSize":e=>!0,change:e=>!0,pageSizeChange:e=>!0},setup(e,{emit:n,slots:a}){const l=z("pagination"),{t:i}=D(),{disabled:u,pageItemStyle:s,activePageItemStyle:c,size:v}=se(e),{mergedSize:h}=de(v),B=F(e.defaultCurrent),J=F(e.defaultPageSize),d=o(()=>{var t;return(t=e.current)!=null?t:B.value}),I=o(()=>{var t;return(t=e.pageSize)!=null?t:J.value}),m=o(()=>Math.ceil(e.total/I.value)),V=t=>{t!==d.value&&re(t)&&!e.disabled&&(B.value=t,n("update:current",t),n("change",t))},K=t=>{J.value=t,n("update:pageSize",t),n("pageSizeChange",t)},O=ie({current:d,pages:m,disabled:u,style:s,activeStyle:c,onClick:V}),f=(t,r={})=>t==="more"?p(Ce,N(r,O),{default:a["page-item-ellipsis"]}):t==="previous"?p(_,N({type:"previous"},r,O),{default:a["page-item-step"]}):t==="next"?p(_,N({type:"next"},r,O),{default:a["page-item-step"]}):p(ge,N(r,O),{default:a["page-item"]}),Q=o(()=>{const t=[];if(m.value<e.baseSize+e.bufferSize*2)for(let r=1;r<=m.value;r++)t.push(f("page",{key:r,pageNumber:r}));else{let r=1,y=m.value,C=!1,R=!1;d.value>2+e.bufferSize&&(C=!0,r=Math.min(d.value-e.bufferSize,m.value-2*e.bufferSize)),d.value<m.value-(e.bufferSize+1)&&(R=!0,y=Math.max(d.value+e.bufferSize,2*e.bufferSize+1)),C&&(t.push(f("page",{key:1,pageNumber:1})),t.push(f("more",{key:"left-ellipsis-pager",step:-(e.bufferSize*2+1)})));for(let w=r;w<=y;w++)t.push(f("page",{key:w,pageNumber:w}));R&&(t.push(f("more",{key:"right-ellipsis-pager",step:e.bufferSize*2+1})),t.push(f("page",{key:m.value,pageNumber:m.value})))}return t}),Z=()=>e.simple?p("span",{class:`${l}-simple`},[f("previous",{simple:!0}),p(G,{disabled:e.disabled,current:d.value,size:h.value,pages:m.value,simple:!0,onChange:V},null),f("next",{simple:!0})]):p("ul",{class:`${l}-list`},[f("previous",{simple:!0}),Q.value,e.showMore&&f("more",{key:"more",step:e.bufferSize*2+1}),f("next",{simple:!0})]);L(I,(t,r)=>{if(e.autoAdjust&&t!==r&&d.value>1){const y=r*(d.value-1)+1,C=Math.ceil(y/t);C!==d.value&&(B.value=C,n("update:current",C),n("change",C))}}),L(m,(t,r)=>{if(e.autoAdjust&&t!==r&&d.value>1&&d.value>t){const y=Math.max(t,1);B.value=y,n("update:current",y),n("change",y)}});const W=o(()=>[l,`${l}-size-${h.value}`,{[`${l}-simple`]:e.simple,[`${l}-disabled`]:e.disabled}]);return()=>{var t,r;return e.hideOnSinglePage&&m.value<=1?null:p("div",{class:W.value},[e.showTotal&&p("span",{class:`${l}-total`},[(r=(t=a.total)==null?void 0:t.call(a,{total:e.total}))!=null?r:i("pagination.total",e.total)]),Z(),e.showPageSize&&p(Pe,{disabled:e.disabled,sizeOptions:e.pageSizeOptions,pageSize:I.value,size:h.value,onChange:K,selectProps:e.pageSizeProps},null),!e.simple&&e.showJumper&&p(G,{disabled:e.disabled,current:d.value,pages:m.value,size:h.value,onChange:V},{"jumper-prepend":a["jumper-prepend"],"jumper-append":a["jumper-append"]})])}}});const Ie=Object.assign(A,{install:(e,n)=>{ue(e,n);const a=oe(n);e.component(a+A.name,A)}});export{Ie as P};
