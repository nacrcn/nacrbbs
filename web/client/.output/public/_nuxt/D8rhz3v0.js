import{r as p,e as Q,V as Z,B as J,C as K,m as ne,c as M,o as j,a as me,s as he,g as oe,D as se,n as D,w as ge,b as r,z as $e,K as pe,as as Ce,E as O,a2 as ue,G as f,av as ke,a4 as Se,aE as Be,aM as xe,W as ze,k as Te,Q as q,Z as W,a5 as ce,U as G,S as _e,af as we,aj as Ie,R as X,ak as Pe,an as Ke,Y as Oe,H as Re,I as He}from"./CbujNTzC.js";import{I as ee,a as Ae,o as je}from"./C4FomA2R.js";import{R as le}from"./CWvt8Gu3.js";import{a as De}from"./DZyT-3wr.js";import{b as Le}from"./7FLWgqLH.js";const Ne=e=>{const a={},t=p([]),d=()=>{if(a.value){const u=Le(a.value,e);(u.length!==t.value.length||u.toString()!==t.value.toString())&&(t.value=u)}};return Q(()=>d()),Z(()=>d()),{children:a,components:t}},Me=({direction:e,type:a,offset:t})=>e==="vertical"?{transform:`translateY(${-t}px)`}:{transform:`translateX(${-t}px)`},We=(e,a)=>{const{scrollTop:t,scrollLeft:d}=e;a==="horizontal"&&d&&e.scrollTo({left:-1*d}),a==="vertical"&&t&&e.scrollTo({top:-1*t})},te=Symbol("ArcoTabs"),qe=K({name:"TabsTab",components:{IconHover:ee,IconClose:Ce},props:{tab:{type:Object,required:!0},active:Boolean,editable:Boolean},emits:["click","delete"],setup(e,{emit:a}){const t=O("tabs-tab"),d=ue(te,{}),u=n=>{e.tab.disabled||a("click",e.tab.key,n)},h=n=>{n.key==="Enter"&&u(n)},i=f(()=>Object.assign(d.trigger==="click"?{onClick:u}:{onMouseover:u},{onKeydown:h})),o=n=>{e.tab.disabled||a("delete",e.tab.key,n)},s=f(()=>[t,{[`${t}-active`]:e.active,[`${t}-closable`]:e.editable&&e.tab.closable,[`${t}-disabled`]:e.tab.disabled}]);return{prefixCls:t,cls:s,eventHandlers:i,handleDelete:o}}});function Ue(e,a,t,d,u,h){const i=ne("icon-close"),o=ne("icon-hover");return j(),M("div",pe({tabindex:"0",class:e.cls},e.eventHandlers),[me("span",{class:D(`${e.prefixCls}-title`)},[se(e.$slots,"default")],2),e.editable&&e.tab.closable?(j(),he(o,{key:0,class:D(`${e.prefixCls}-close-btn`),onClick:$e(e.handleDelete,["stop"])},{default:ge(()=>[r(i)]),_:1},8,["class","onClick"])):oe("v-if",!0)],16)}var Ee=J(qe,[["render",Ue]]);function Ve(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ze(e)}var ie=K({name:"TabsButton",props:{type:{type:String,default:"next"},direction:{type:String,default:"horizontal"},disabled:{type:Boolean,default:!1},onClick:{type:Function}},emits:["click"],setup(e,{emit:a}){const t=O("tabs-nav-button"),d=i=>{e.disabled||a("click",e.type,i)},u=()=>e.direction==="horizontal"?e.type==="next"?r(ke,null,null):r(Se,null,null):e.type==="next"?r(Be,null,null):r(xe,null,null),h=f(()=>[t,{[`${t}-disabled`]:e.disabled,[`${t}-left`]:e.direction==="horizontal"&&e.type==="previous",[`${t}-right`]:e.direction==="horizontal"&&e.type==="next",[`${t}-up`]:e.direction==="vertical"&&e.type==="previous",[`${t}-down`]:e.direction==="vertical"&&e.type==="next"}]);return()=>{let i;return r("div",{class:h.value,onClick:d},[r(ee,{disabled:e.disabled},Ve(i=u())?i:{default:()=>[i]})])}}});const Fe=K({name:"TabsNavInk",props:{activeTabRef:{type:Object},direction:{type:String},disabled:Boolean,animation:Boolean},setup(e){const{activeTabRef:a}=q(e),t=O("tabs-nav-ink"),d=p(0),u=p(0),h=f(()=>e.direction==="vertical"?{top:`${d.value}px`,height:`${u.value}px`}:{left:`${d.value}px`,width:`${u.value}px`}),i=()=>{if(a.value){const s=e.direction==="vertical"?a.value.offsetTop:a.value.offsetLeft,n=e.direction==="vertical"?a.value.offsetHeight:a.value.offsetWidth;(s!==d.value||n!==u.value)&&(d.value=s,u.value=n)}};Q(()=>{W(()=>i())}),Z(()=>{i()});const o=f(()=>[t,{[`${t}-animation`]:e.animation,[`${t}-disabled`]:e.disabled}]);return{prefixCls:t,cls:o,style:h}}});function Ye(e,a,t,d,u,h){return j(),M("div",{class:D(e.cls),style:Te(e.style)},null,6)}var Ge=J(Fe,[["render",Ye]]),Xe=K({name:"TabsNav",props:{tabs:{type:Array,required:!0},direction:{type:String,required:!0},type:{type:String,required:!0},activeKey:{type:[String,Number]},activeIndex:{type:Number,required:!0},position:{type:String,required:!0},size:{type:String,required:!0},showAddButton:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},animation:{type:Boolean,required:!0},headerPadding:{type:Boolean,default:!0},scrollPosition:{type:String,default:"auto"}},emits:["click","add","delete"],setup(e,{emit:a,slots:t}){const{tabs:d,activeKey:u,activeIndex:h,direction:i,scrollPosition:o}=q(e),s=O("tabs-nav"),n=p(),g=p(),S=p({}),C=f(()=>{if(!ce(u.value))return S.value[u.value]}),B=p(),x=f(()=>e.editable&&["line","card","card-gutter"].includes(e.type)),$=p(!1),R=p(0),T=p(0),y=p(0),P=()=>{var c,v,z;return(z=i.value==="vertical"?(c=n.value)==null?void 0:c.offsetHeight:(v=n.value)==null?void 0:v.offsetWidth)!=null?z:0},L=()=>!g.value||!n.value?0:i.value==="vertical"?g.value.offsetHeight-n.value.offsetHeight:g.value.offsetWidth-n.value.offsetWidth,_=()=>{$.value=U(),$.value?(R.value=P(),T.value=L(),y.value>T.value&&(y.value=T.value)):y.value=0},U=()=>n.value&&g.value?e.direction==="vertical"?g.value.offsetHeight>n.value.offsetHeight:g.value.offsetWidth>n.value.offsetWidth:!1,k=c=>{(!n.value||!g.value||c<0)&&(c=0),y.value=Math.min(c,T.value)},E=()=>{if(!C.value||!n.value||!$.value)return;We(n.value,i.value);const c=i.value==="horizontal",v=c?"offsetLeft":"offsetTop",z=c?"offsetWidth":"offsetHeight",m=C.value[v],w=C.value[z],I=n.value[z],ye=window.getComputedStyle(C.value),be=c?o.value==="end"?"marginRight":"marginLeft":o.value==="end"?"marginBottom":"marginTop",A=parseFloat(ye[be])||0;o.value==="auto"?m<y.value?k(m-A):m+w>y.value+I&&k(m+w-I+A):o.value==="center"?k(m+(w-I+A)/2):o.value==="start"?k(m-A):o.value==="end"?k(m+w-I+A):Ie(o.value)&&k(m-o.value)},H=c=>{if(!$.value)return;c.preventDefault();const{deltaX:v,deltaY:z}=c;Math.abs(v)>Math.abs(z)?k(y.value+v):k(y.value+z)},V=(c,v)=>{a("click",c,v)},l=(c,v)=>{a("delete",c,v),W(()=>{delete S.value[c]})},b=c=>{const v=c==="previous"?y.value-R.value:y.value+R.value;k(v)},N=()=>{_(),B.value&&B.value.$forceUpdate()};G(d,()=>{W(()=>{_()})}),G([h,o],()=>{setTimeout(()=>{E()},0)}),Q(()=>{_(),n.value&&Ae(n.value,"wheel",H,{passive:!1})}),_e(()=>{n.value&&je(n.value,"wheel",H)});const ae=()=>!x.value||!e.showAddButton?null:r("div",{class:`${s}-add-btn`,onClick:c=>a("add",c)},[r(ee,null,{default:()=>[r(we,null,null)]})]),re=f(()=>[s,`${s}-${e.direction}`,`${s}-${e.position}`,`${s}-size-${e.size}`,`${s}-type-${e.type}`]),de=f(()=>[`${s}-tab-list`,{[`${s}-tab-list-no-padding`]:!e.headerPadding&&["line","text"].includes(e.type)&&e.direction==="horizontal"}]),ve=f(()=>Me({direction:e.direction,type:e.type,offset:y.value})),fe=f(()=>[`${s}-tab`,{[`${s}-tab-scroll`]:$.value}]);return()=>{var c;return r("div",{class:re.value},[$.value&&r(ie,{type:"previous",direction:e.direction,disabled:y.value<=0,onClick:b},null),r(le,{onResize:()=>_()},{default:()=>[r("div",{class:fe.value,ref:n},[r(le,{onResize:N},{default:()=>[r("div",{ref:g,class:de.value,style:ve.value},[e.tabs.map((v,z)=>r(Ee,{key:v.key,ref:m=>{m?.$el&&(S.value[v.key]=m.$el)},active:v.key===u.value,tab:v,editable:e.editable,onClick:V,onDelete:l},{default:()=>{var m,w,I;return[(I=(w=(m=v.slots).title)==null?void 0:w.call(m))!=null?I:v.title]}})),e.type==="line"&&C.value&&r(Ge,{ref:B,activeTabRef:C.value,direction:e.direction,disabled:!1,animation:e.animation},null)])]}),!$.value&&ae()])]}),$.value&&r(ie,{type:"next",direction:e.direction,disabled:y.value>=T.value,onClick:b},null),r("div",{class:`${s}-extra`},[$.value&&ae(),(c=t.extra)==null?void 0:c.call(t)])])}}}),F=K({name:"Tabs",props:{activeKey:{type:[String,Number],default:void 0},defaultActiveKey:{type:[String,Number],default:void 0},position:{type:String,default:"top"},size:{type:String},type:{type:String,default:"line"},direction:{type:String,default:"horizontal"},editable:{type:Boolean,default:!1},showAddButton:{type:Boolean,default:!1},destroyOnHide:{type:Boolean,default:!1},lazyLoad:{type:Boolean,default:!1},justify:{type:Boolean,default:!1},animation:{type:Boolean,default:!1},headerPadding:{type:Boolean,default:!0},autoSwitch:{type:Boolean,default:!1},hideContent:{type:Boolean,default:!1},trigger:{type:String,default:"click"},scrollPosition:{type:[String,Number],default:"auto"}},emits:{"update:activeKey":e=>!0,change:e=>!0,tabClick:(e,a)=>!0,add:e=>!0,delete:(e,a)=>!0},setup(e,{emit:a,slots:t}){const{size:d,lazyLoad:u,destroyOnHide:h,trigger:i}=q(e),o=O("tabs"),{mergedSize:s}=De(d),n=f(()=>e.direction==="vertical"?"left":e.position),g=f(()=>["left","right"].includes(n.value)?"vertical":"horizontal"),{children:S,components:C}=Ne("TabPane"),B=X(new Map),x=f(()=>{const l=[];return C.value.forEach(b=>{const N=B.get(b);N&&l.push(N)}),l}),$=f(()=>x.value.map(l=>l.key)),R=(l,b)=>{B.set(l,b)},T=l=>{B.delete(l)},y=p(e.defaultActiveKey),P=f(()=>{var l;const b=(l=e.activeKey)!=null?l:y.value;return ce(b)?$.value[0]:b}),L=f(()=>{const l=$.value.indexOf(P.value);return l===-1?0:l});Pe(te,X({lazyLoad:u,destroyOnHide:h,activeKey:P,addItem:R,removeItem:T,trigger:i}));const _=l=>{l!==P.value&&(y.value=l,a("update:activeKey",l),a("change",l))},U=(l,b)=>{_(l),a("tabClick",l,b)},k=l=>{a("add",l),e.autoSwitch&&W(()=>{const b=$.value[$.value.length-1];_(b)})},E=(l,b)=>{a("delete",l,b)},H=()=>r("div",{class:[`${o}-content`,{[`${o}-content-hide`]:e.hideContent}]},[r("div",{class:[`${o}-content-list`,{[`${o}-content-animation`]:e.animation}],style:{marginLeft:`-${L.value*100}%`}},[S.value])]),V=f(()=>[o,`${o}-${g.value}`,`${o}-${n.value}`,`${o}-type-${e.type}`,`${o}-size-${s.value}`,{[`${o}-justify`]:e.justify}]);return()=>{var l;return S.value=(l=t.default)==null?void 0:l.call(t),r("div",{class:V.value},[n.value==="bottom"&&H(),r(Xe,{tabs:x.value,activeKey:P.value,activeIndex:L.value,direction:g.value,position:n.value,editable:e.editable,animation:e.animation,showAddButton:e.showAddButton,headerPadding:e.headerPadding,scrollPosition:e.scrollPosition,size:s.value,type:e.type,onClick:U,onAdd:k,onDelete:E},{extra:t.extra}),n.value!=="bottom"&&H()])}}});const Qe=K({name:"TabPane",props:{title:String,disabled:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},destroyOnHide:{type:Boolean,default:!1}},setup(e,{slots:a}){var t;const{title:d,disabled:u,closable:h}=q(e),i=Ke(),o=O("tabs"),s=ue(te,{}),n=p(),g=f(()=>i?.vnode.key),S=f(()=>g.value===s.activeKey),C=p(s.lazyLoad?S.value:!0),B=X({key:g,title:d,disabled:u,closable:h,slots:a});return i?.uid&&((t=s.addItem)==null||t.call(s,i.uid,B)),Oe(()=>{var x;i?.uid&&((x=s.removeItem)==null||x.call(s,i.uid))}),G(S,x=>{x?C.value||(C.value=!0):(e.destroyOnHide||s.destroyOnHide)&&(C.value=!1)}),Z(()=>{B.slots={...a}}),{prefixCls:o,active:S,itemRef:n,mounted:C}}});function Ze(e,a,t,d,u,h){return j(),M("div",{ref:"itemRef",class:D([`${e.prefixCls}-content-item`,{[`${e.prefixCls}-content-item-active`]:e.active}])},[e.mounted?(j(),M("div",{key:0,class:D(`${e.prefixCls}-pane`)},[se(e.$slots,"default")],2)):oe("v-if",!0)],2)}var Y=J(Qe,[["render",Ze]]);const lt=Object.assign(F,{TabPane:Y,install:(e,a)=>{Re(e,a);const t=He(a);e.component(t+F.name,F),e.component(t+Y.name,Y)}});export{lt as T,Y as a,Ne as u};
