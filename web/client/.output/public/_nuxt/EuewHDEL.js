import{_ as S}from"./BfRduO-u.js";import{_ as G}from"./fAYe6Kx_.js";import{_ as L}from"./TdlKPHnJ.js";import{_ as P}from"./DKGUmpY2.js";import{r as m,e as U,c as i,a as o,g as R,b as n,w as c,j as A,F as d,v as _,q as u,m as g,o as r,d as $,l as j,s as v}from"./CbujNTzC.js";import{B as q}from"./DZyT-3wr.js";import{I as E}from"./DRQ8spOm.js";import"./lDd3phAc.js";import"./BiNgaM9F.js";import"./CWvt8Gu3.js";import{P as D}from"./C_lFDQdh.js";import{R as H}from"./DTrhiYp5.js";import{_ as f}from"./C4Ghd-f4.js";import{_ as J}from"./DlAUqK2U.js";import"./B_wNtzkc.js";import"./Ba22RDed.js";import"./C4FomA2R.js";import"./7FLWgqLH.js";import"./DcU8bM7c.js";import"./C2r7KKOo.js";import"./k-1F5wz5.js";import"./BC6OM_U-.js";import"./CYhUeftq.js";import"./FmfuZiTj.js";import"./BW_FzNZC.js";const K={class:"MainBox"},O={class:"MainContent"},Q={class:"TopB"},W={class:"TopBox"},X={class:"select"},Y={class:"content-box"},Z={key:0,class:"Isno",style:{width:"100%","background-color":"#fff","border-radius":"10px"}},ee={class:"PageNav"},te={class:"SidebarRight"},oe={class:"NavBar"},ae={class:"NavBar"},se={__name:"index",setup(ne){const y=m([]),x=async()=>{try{const e=await u().post("/api/GetCategory");e.code==200?y.value=e.data:Message.error(e.message||"获取分类列表失败")}catch(e){Message.error(e.message)}},h=m([]),C=async()=>{try{const e=await u().post("/api/GetCategory",{type:2});e.code==200?h.value=e.data:Message.error(e.message||"获取分类列表失败")}catch(e){Message.error(e.message)}},p=m([]),s=m({page:1,pagesize:10,total:0,search:"",sort:"id"}),l=async()=>{try{const e=await u().post("/api/GetThreads",s.value);e.code==200?(p.value=e.data,s.value.total=e.total):Message.error(e.message||"获取文章列表失败")}catch(e){Message.error(e.message)}};return U(()=>{x(),C(),l()}),(e,t)=>{const T=g("icon-search"),B=E,I=g("icon-send"),V=q,b=S,k=G,M=g("IconFaceSmileFill"),w=H,z=D,N=L,F=P;return r(),i("div",K,[o("div",O,[o("div",Q,[t[6]||(t[6]=o("div",{class:"title"},[o("img",{src:f,alt:""}),o("span",null,"花花世界迷人眼")],-1)),o("div",W,[n(B,{class:"search-input",modelValue:s.value.search,"onUpdate:modelValue":t[0]||(t[0]=a=>s.value.search=a),placeholder:"请输入搜索内容","allow-clear":""},{prefix:c(()=>[n(T)]),_:1},8,["modelValue"]),n(V,{type:"primary",class:"send-btn",onClick:t[1]||(t[1]=a=>("navigateTo"in e?e.navigateTo:A(j))("/add"))},{icon:c(()=>[n(I)]),default:c(()=>[...t[5]||(t[5]=[$("我有瓜要曝",-1)])]),_:1})]),o("div",X,[n(b,{Item:[{value:"id",name:"最新贴子"},{value:"n_msglastTime",name:"最新回复"},{value:"n_starts",name:"点赞最多"},{value:"n_read",name:"阅读最多"}],modelValue:s.value.sort,"onUpdate:modelValue":t[2]||(t[2]=a=>s.value.sort=a),onChange:l},null,8,["modelValue"])])]),o("div",Y,[(r(!0),i(d,null,_(p.value,a=>(r(),v(k,{key:a.id,data:a},null,8,["data"]))),128))]),p.value.length==0?(r(),i("div",Z,[n(w,{status:null,title:"无内容",subtitle:"哎呀，没有内容了"},{icon:c(()=>[n(M)]),_:1})])):R("",!0),o("div",ee,[n(z,{onChange:l,onPageSizeChange:l,current:s.value.page,"onUpdate:current":t[3]||(t[3]=a=>s.value.page=a),pageSize:s.value.pagesize,"onUpdate:pageSize":t[4]||(t[4]=a=>s.value.pagesize=a),total:s.value.total,size:"mini","show-total":""},null,8,["current","pageSize","total"])])]),o("div",te,[o("div",oe,[t[7]||(t[7]=o("div",{class:"title"},[o("img",{src:f,alt:""}),o("span",null,"热门圈子")],-1)),(r(!0),i(d,null,_(y.value,a=>(r(),v(N,{key:a.n_name,data:a},null,8,["data"]))),128))]),o("div",ae,[t[8]||(t[8]=o("div",{class:"title"},[o("img",{src:f,alt:""}),o("span",null,"热门话题")],-1)),(r(!0),i(d,null,_(h.value,a=>(r(),v(F,{key:a.n_name,data:a},null,8,["data"]))),128))])])])}}},Ne=J(se,[["__scopeId","data-v-3f1fbcef"]]);export{Ne as default};
