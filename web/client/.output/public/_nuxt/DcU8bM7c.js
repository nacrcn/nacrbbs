import{r as Ce,G as h,e as Ae,S as dt,T as Te,B as ue,C as ce,c as oe,o as A,D as H,z as ft,n as R,E as de,Q as me,R as se,ak as Pe,ac as Ke,a6 as ht,a8 as pt,k as it,aj as le,g as U,a2 as ye,ah as Ue,m as ae,s as X,w as D,au as gt,K as be,d as je,a as G,b as Me,t as he,aP as vt,an as bt,Y as st,v as mt,ao as Qe,F as yt,aK as jt,Z as Ve,am as $t,H as Ot,I as Ct}from"./CbujNTzC.js";import{a as wt,f as _e,b as Ye}from"./DZyT-3wr.js";import{R as St,u as Vt}from"./Ba22RDed.js";import{T as Et,g as Ze,s as Be}from"./C2r7KKOo.js";import{p as Lt}from"./DRQ8spOm.js";function Ge(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function Xe(e,t){return(!t||e!=="hidden")&&e!=="visible"&&e!=="clip"}function Ee(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var i=getComputedStyle(e,null);return Xe(i.overflowY,t)||Xe(i.overflowX,t)||(function(r){var s=(function(a){if(!a.ownerDocument||!a.ownerDocument.defaultView)return null;try{return a.ownerDocument.defaultView.frameElement}catch{return null}})(r);return!!s&&(s.clientHeight<r.scrollHeight||s.clientWidth<r.scrollWidth)})(e)}return!1}function pe(e,t,i,r,s,a,n,l){return a<e&&n>t||a>e&&n<t?0:a<=e&&l<=i||n>=t&&l>=i?a-e-r:n>t&&l<i||a<e&&l>i?n-t+s:0}var Je=function(e,t){var i=window,r=t.scrollMode,s=t.block,a=t.inline,n=t.boundary,l=t.skipOverflowHiddenElements,b=typeof n=="function"?n:function(ct){return ct!==n};if(!Ge(e))throw new TypeError("Invalid target");for(var j,E,$=document.scrollingElement||document.documentElement,p=[],g=e;Ge(g)&&b(g);){if((g=(E=(j=g).parentElement)==null?j.getRootNode().host||null:E)===$){p.push(g);break}g!=null&&g===document.body&&Ee(g)&&!Ee(document.documentElement)||g!=null&&Ee(g,l)&&p.push(g)}for(var O=i.visualViewport?i.visualViewport.width:innerWidth,C=i.visualViewport?i.visualViewport.height:innerHeight,w=window.scrollX||pageXOffset,d=window.scrollY||pageYOffset,m=e.getBoundingClientRect(),L=m.height,x=m.width,q=m.top,N=m.right,T=m.bottom,S=m.left,k=s==="start"||s==="nearest"?q:s==="end"?T:q+L/2,F=a==="center"?S+x/2:a==="end"?N:S,J=[],Y=0;Y<p.length;Y++){var y=p[Y],K=y.getBoundingClientRect(),Z=K.height,W=K.width,ee=K.top,c=K.right,v=K.bottom,o=K.left;if(r==="if-needed"&&q>=0&&S>=0&&T<=C&&N<=O&&q>=ee&&T<=v&&S>=o&&N<=c)return J;var u=getComputedStyle(y),f=parseInt(u.borderLeftWidth,10),V=parseInt(u.borderTopWidth,10),_=parseInt(u.borderRightWidth,10),P=parseInt(u.borderBottomWidth,10),M=0,I=0,te="offsetWidth"in y?y.offsetWidth-y.clientWidth-f-_:0,ne="offsetHeight"in y?y.offsetHeight-y.clientHeight-V-P:0,Ne="offsetWidth"in y?y.offsetWidth===0?0:W/y.offsetWidth:0,Ie="offsetHeight"in y?y.offsetHeight===0?0:Z/y.offsetHeight:0;if($===y)M=s==="start"?k:s==="end"?k-C:s==="nearest"?pe(d,d+C,C,V,P,d+k,d+k+L,L):k-C/2,I=a==="start"?F:a==="center"?F-O/2:a==="end"?F-O:pe(w,w+O,O,f,_,w+F,w+F+x,x),M=Math.max(0,M+d),I=Math.max(0,I+w);else{M=s==="start"?k-ee-V:s==="end"?k-v+P+ne:s==="nearest"?pe(ee,v,Z,V,P+ne,k,k+L,L):k-(ee+Z/2)+ne/2,I=a==="start"?F-o-f:a==="center"?F-(o+W/2)+te/2:a==="end"?F-c+_+te:pe(o,c,W,f,_+te,F,F+x,x);var He=y.scrollLeft,De=y.scrollTop;k+=De-(M=Math.max(0,Math.min(De+M/Ie,y.scrollHeight-Z/Ie+ne))),F+=He-(I=Math.max(0,Math.min(He+I/Ne,y.scrollWidth-W/Ne+te)))}J.push({el:y,top:M,left:I})}return J};const $e=["xxl","xl","lg","md","sm","xs"],ge={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"};let re=[],Ft=-1,ve={};const et={matchHandlers:{},dispatch(e,t){return ve=e,re.length<1?!1:(re.forEach(i=>{i.func(ve,t)}),!0)},subscribe(e){re.length===0&&this.register();const t=(++Ft).toString();return re.push({token:t,func:e}),e(ve,null),t},unsubscribe(e){re=re.filter(t=>t.token!==e),re.length===0&&this.unregister()},unregister(){Object.keys(ge).forEach(e=>{const t=ge[e];if(!t)return;const i=this.matchHandlers[t];i&&i.mql&&i.listener&&(i.mql.removeEventListener?i.mql.removeEventListener("change",i.listener):i.mql.removeListener(i.listener))})},register(){Object.keys(ge).forEach(e=>{const t=ge[e];if(!t)return;const i=({matches:s})=>{this.dispatch({...ve,[e]:s},e)},r=window.matchMedia(t);r.addEventListener?r.addEventListener("change",i):r.addListener(i),this.matchHandlers[t]={mql:r,listener:i},i(r)})}};function tt(e){return Te(e)}function xe(e,t,i=!1){const r=Ce({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),s=h(()=>{let n=t;if(tt(e.value))for(let l=0;l<$e.length;l++){const b=$e[l];if((r.value[b]||b==="xs"&&i)&&e.value[b]!==void 0){n=e.value[b];break}}else n=e.value;return n});let a="";return Ae(()=>{a=et.subscribe(n=>{tt(e.value)&&(r.value=n)})}),dt(()=>{a&&et.unsubscribe(a)}),s}function at(e){return e===Object(e)&&Object.keys(e).length!==0}function Mt(e,t){t===void 0&&(t="auto");var i="scrollBehavior"in document.body.style;e.forEach(function(r){var s=r.el,a=r.top,n=r.left;s.scroll&&i?s.scroll({top:a,left:n,behavior:t}):(s.scrollTop=a,s.scrollLeft=n)})}function xt(e){return e===!1?{block:"end",inline:"nearest"}:at(e)?e:{block:"start",inline:"nearest"}}function qt(e,t){var i=e.isConnected||e.ownerDocument.documentElement.contains(e);if(at(t)&&typeof t.behavior=="function")return t.behavior(i?Je(e,t):[]);if(i){var r=xt(t);return Mt(Je(e,r),r.behavior)}}const rt=["success","warning","error","validating"],kt=e=>{let t="";for(const i of Object.keys(e)){const r=e[i];r&&(!t||rt.indexOf(r)>rt.indexOf(t))&&(t=e[i])}return t},At=e=>{const t=[];for(const i of Object.keys(e)){const r=e[i];r&&t.push(r)}return t},ot=(e,t)=>{const i=t.replace(/[[.]/g,"_").replace(/\]/g,"");return e?`${e}-${i}`:`${i}`},Tt=ce({name:"Form",props:{model:{type:Object,required:!0},layout:{type:String,default:"horizontal"},size:{type:String},labelColProps:{type:Object,default:()=>({span:5,offset:0})},wrapperColProps:{type:Object,default:()=>({span:19,offset:0})},labelColStyle:Object,wrapperColStyle:Object,labelAlign:{type:String,default:"right"},disabled:{type:Boolean,default:void 0},rules:{type:Object},autoLabelWidth:{type:Boolean,default:!1},id:{type:String},scrollToFirstError:{type:Boolean,default:!1}},emits:{submit:(e,t)=>!0,submitSuccess:(e,t)=>!0,submitFailed:(e,t)=>!0},setup(e,{emit:t}){const i=de("form"),r=Ce(),{id:s,model:a,layout:n,disabled:l,labelAlign:b,labelColProps:j,wrapperColProps:E,labelColStyle:$,wrapperColStyle:p,size:g,rules:O}=me(e),{mergedSize:C}=wt(g),w=h(()=>e.layout==="horizontal"&&e.autoLabelWidth),d=[],m=[],L=se({}),x=h(()=>Math.max(...Object.values(L))),q=c=>{c&&c.field&&d.push(c)},N=c=>{c&&c.field&&d.splice(d.indexOf(c),1)},T=c=>{d.forEach(v=>{c[v.field]&&v.setField(c[v.field])})},S=(c,v)=>{v&&L[v]!==c&&(L[v]=c)},k=c=>{c&&delete L[c]},F=c=>{const v=c?[].concat(c):[];d.forEach(o=>{(v.length===0||v.includes(o.field))&&o.resetField()})},J=c=>{const v=c?[].concat(c):[];d.forEach(o=>{(v.length===0||v.includes(o.field))&&o.clearValidate()})},Y=(c,v)=>{const u=(r.value||document.body).querySelector(`#${ot(e.id,c)}`);u&&qt(u,{behavior:"smooth",block:"nearest",scrollMode:"if-needed",...v})},y=c=>{const v=pt(e.scrollToFirstError)?void 0:e.scrollToFirstError;Y(c,v)},K=c=>{const v=[];return d.forEach(o=>{v.push(o.validate())}),Promise.all(v).then(o=>{const u={};let f=!1;return o.forEach(V=>{V&&(f=!0,u[V.field]=V)}),f&&e.scrollToFirstError&&y(Object.keys(u)[0]),Ke(c)&&c(f?u:void 0),f?u:void 0})},Z=(c,v)=>{const o=[];for(const u of d)(ht(c)&&c.includes(u.field)||c===u.field)&&o.push(u.validate());return Promise.all(o).then(u=>{const f={};let V=!1;return u.forEach(_=>{_&&(V=!0,f[_.field]=_)}),V&&e.scrollToFirstError&&y(Object.keys(f)[0]),Ke(v)&&v(V?f:void 0),V?f:void 0})},W=c=>{const v=[];d.forEach(o=>{v.push(o.validate())}),Promise.all(v).then(o=>{const u={};let f=!1;o.forEach(V=>{V&&(f=!0,u[V.field]=V)}),f?(e.scrollToFirstError&&y(Object.keys(u)[0]),t("submitFailed",{values:a.value,errors:u},c)):t("submitSuccess",a.value,c),t("submit",{values:a.value,errors:f?u:void 0},c)})};return Pe(_e,se({id:s,layout:n,disabled:l,labelAlign:b,labelColProps:j,wrapperColProps:E,labelColStyle:$,wrapperColStyle:p,model:a,size:C,rules:O,fields:d,touchedFields:m,addField:q,removeField:N,validateField:Z,setLabelWidth:S,removeLabelWidth:k,maxLabelWidth:x,autoLabelWidth:w})),{cls:h(()=>[i,`${i}-layout-${e.layout}`,`${i}-size-${C.value}`,{[`${i}-auto-label-width`]:e.autoLabelWidth}]),formRef:r,handleSubmit:W,innerValidate:K,innerValidateField:Z,innerResetFields:F,innerClearValidate:J,innerSetFields:T,innerScrollToField:Y}},methods:{validate(e){return this.innerValidate(e)},validateField(e,t){return this.innerValidateField(e,t)},resetFields(e){return this.innerResetFields(e)},clearValidate(e){return this.innerClearValidate(e)},setFields(e){return this.innerSetFields(e)},scrollToField(e){return this.innerScrollToField(e)}}}),Pt=["id"];function _t(e,t,i,r,s,a){return A(),oe("form",{id:e.id,ref:"formRef",class:R(e.cls),onSubmit:t[0]||(t[0]=ft((...n)=>e.handleSubmit&&e.handleSubmit(...n),["prevent"]))},[H(e.$slots,"default")],42,Pt)}var Le=ue(Tt,[["render",_t]]),fe=Object.prototype.toString;function we(e){return fe.call(e)==="[object Array]"}function Q(e){return fe.call(e)==="[object Object]"}function qe(e){return fe.call(e)==="[object String]"}function Wt(e){return fe.call(e)==="[object Number]"&&e===e}function Rt(e){return fe.call(e)==="[object Boolean]"}function ke(e){return fe.call(e)==="[object Function]"}function zt(e){return Q(e)&&Object.keys(e).length===0}function ie(e){return e==null||e===""}function nt(e){return we(e)&&!e.length}var We=function(e,t){if(typeof e!="object"||typeof t!="object")return e===t;if(ke(e)&&ke(t))return e===t||e.toString()===t.toString();if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var i in e){var r=We(e[i],t[i]);if(!r)return!1}return!0},Re=function(e,t){var i=Object.assign({},e);return Object.keys(t||{}).forEach(function(r){var s=i[r],a=t?.[r];i[r]=Q(s)?Object.assign(Object.assign({},s),a):a||s}),i},Nt=function(e,t){for(var i=t.split("."),r=e,s=0;s<i.length;s++)if(r=r&&r[i[s]],r===void 0)return r;return r},B="#{field} is not a #{type} type",It={required:"#{field} is required",type:{ip:B,email:B,url:B,string:B,number:B,array:B,object:B,boolean:B},number:{min:"`#{value}` is not greater than `#{min}`",max:"`#{value}` is not less than `#{max}`",equal:"`#{value}` is not equal to `#{equal}`",range:"`#{value}` is not in range `#{min} ~ #{max}`",positive:"`#{value}` is not a positive number",negative:"`#{value}` is not a negative number"},string:{maxLength:"#{field} cannot be longer than #{maxLength} characters",minLength:"#{field} must be at least #{minLength} characters",length:"#{field} must be exactly #{length} characters",match:"`#{value}` does not match pattern #{pattern}",uppercase:"`#{value}` must be all uppercase",lowercase:"`#{value}` must be all lowercased"},array:{length:"#{field} must be exactly #{length} in length",minLength:"#{field} cannot be less than #{minLength} in length",maxLength:"#{field} cannot be greater than #{maxLength} in length",includes:"#{field} is not includes #{includes}",deepEqual:"#{field} is not deep equal with #{deepEqual}",empty:"#{field} is not an empty array"},object:{deepEqual:"#{field} is not deep equal to expected value",hasKeys:"#{field} does not contain required fields",empty:"#{field} is not an empty object"},boolean:{true:"Expect true but got `#{value}`",false:"Expect false but got `#{value}`"}},z=function(t,i){var r=this;this.getValidateMsg=function(s,a){a===void 0&&(a={});var n=Object.assign(Object.assign({},a),{value:r.obj,field:r.field,type:r.type}),l=Nt(r.validateMessages,s);return ke(l)?l(n):qe(l)?l.replace(/\#\{.+?\}/g,function(b){var j=b.slice(2,-1);if(j in n){if(Q(n[j])||we(n[j]))try{return JSON.stringify(n[j])}catch{return n[j]}return String(n[j])}return b}):l},Q(i)&&qe(t)&&i.trim?this.obj=t.trim():Q(i)&&i.ignoreEmptyString&&t===""?this.obj=void 0:this.obj=t,this.message=i.message,this.type=i.type,this.error=null,this.field=i.field||i.type,this.validateMessages=Re(It,i.validateMessages)},Se={not:{configurable:!0},isRequired:{configurable:!0},end:{configurable:!0}};Se.not.get=function(){return this._not=!this._not,this};Se.isRequired.get=function(){if(ie(this.obj)||nt(this.obj)){var e=this.getValidateMsg("required");this.error={value:this.obj,type:this.type,requiredError:!0,message:this.message||(Q(e)?e:(this._not?"[NOT MODE]:":"")+e)}}return this};Se.end.get=function(){return this.error};z.prototype.addError=function(t){!this.error&&t&&(this.error={value:this.obj,type:this.type,message:this.message||(Q(t)?t:(this._not?"[NOT MODE]:":"")+t)})};z.prototype.validate=function(t,i){var r=this._not?t:!t;return r&&this.addError(i),this};z.prototype.collect=function(t){t&&t(this.error)};Object.defineProperties(z.prototype,Se);var Ht=(function(e){function t(r,s){e.call(this,r,Object.assign(Object.assign({},s),{type:"string"})),this.validate(s&&s.strict?qe(this.obj):!0,this.getValidateMsg("type.string"))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={uppercase:{configurable:!0},lowercase:{configurable:!0}};return t.prototype.maxLength=function(s){return this.obj?this.validate(this.obj.length<=s,this.getValidateMsg("string.maxLength",{maxLength:s})):this},t.prototype.minLength=function(s){return this.obj?this.validate(this.obj.length>=s,this.getValidateMsg("string.minLength",{minLength:s})):this},t.prototype.length=function(s){return this.obj?this.validate(this.obj.length===s,this.getValidateMsg("string.length",{length:s})):this},t.prototype.match=function(s){var a=s instanceof RegExp;return a&&(s.lastIndex=0),this.validate(this.obj===void 0||a&&s.test(this.obj),this.getValidateMsg("string.match",{pattern:s}))},i.uppercase.get=function(){return this.obj?this.validate(this.obj.toUpperCase()===this.obj,this.getValidateMsg("string.uppercase")):this},i.lowercase.get=function(){return this.obj?this.validate(this.obj.toLowerCase()===this.obj,this.getValidateMsg("string.lowercase")):this},Object.defineProperties(t.prototype,i),t})(z),Dt=(function(e){function t(r,s){e.call(this,r,Object.assign(Object.assign({},s),{type:"number"})),this.validate(s&&s.strict?Wt(this.obj):!0,this.getValidateMsg("type.number"))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={positive:{configurable:!0},negative:{configurable:!0}};return t.prototype.min=function(s){return ie(this.obj)?this:this.validate(this.obj>=s,this.getValidateMsg("number.min",{min:s}))},t.prototype.max=function(s){return ie(this.obj)?this:this.validate(this.obj<=s,this.getValidateMsg("number.max",{max:s}))},t.prototype.equal=function(s){return ie(this.obj)?this:this.validate(this.obj===s,this.getValidateMsg("number.equal",{equal:s}))},t.prototype.range=function(s,a){return ie(this.obj)?this:this.validate(this.obj>=s&&this.obj<=a,this.getValidateMsg("number.range",{min:s,max:a}))},i.positive.get=function(){return ie(this.obj)?this:this.validate(this.obj>0,this.getValidateMsg("number.positive"))},i.negative.get=function(){return ie(this.obj)?this:this.validate(this.obj<0,this.getValidateMsg("number.negative"))},Object.defineProperties(t.prototype,i),t})(z),Kt=(function(e){function t(r,s){e.call(this,r,Object.assign(Object.assign({},s),{type:"array"})),this.validate(s&&s.strict?we(this.obj):!0,this.getValidateMsg("type.array",{value:this.obj,type:this.type}))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={empty:{configurable:!0}};return t.prototype.length=function(s){return this.obj?this.validate(this.obj.length===s,this.getValidateMsg("array.length",{value:this.obj,length:s})):this},t.prototype.minLength=function(s){return this.obj?this.validate(this.obj.length>=s,this.getValidateMsg("array.minLength",{value:this.obj,minLength:s})):this},t.prototype.maxLength=function(s){return this.obj?this.validate(this.obj.length<=s,this.getValidateMsg("array.maxLength",{value:this.obj,maxLength:s})):this},t.prototype.includes=function(s){var a=this;return this.obj?this.validate(s.every(function(n){return a.obj.indexOf(n)!==-1}),this.getValidateMsg("array.includes",{value:this.obj,includes:s})):this},t.prototype.deepEqual=function(s){return this.obj?this.validate(We(this.obj,s),this.getValidateMsg("array.deepEqual",{value:this.obj,deepEqual:s})):this},i.empty.get=function(){return this.validate(nt(this.obj),this.getValidateMsg("array.empty",{value:this.obj}))},Object.defineProperties(t.prototype,i),t})(z),Ut=(function(e){function t(r,s){e.call(this,r,Object.assign(Object.assign({},s),{type:"object"})),this.validate(s&&s.strict?Q(this.obj):!0,this.getValidateMsg("type.object"))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={empty:{configurable:!0}};return t.prototype.deepEqual=function(s){return this.obj?this.validate(We(this.obj,s),this.getValidateMsg("object.deepEqual",{deepEqual:s})):this},t.prototype.hasKeys=function(s){var a=this;return this.obj?this.validate(s.every(function(n){return a.obj[n]}),this.getValidateMsg("object.hasKeys",{keys:s})):this},i.empty.get=function(){return this.validate(zt(this.obj),this.getValidateMsg("object.empty"))},Object.defineProperties(t.prototype,i),t})(z),Qt=(function(e){function t(r,s){e.call(this,r,Object.assign(Object.assign({},s),{type:"boolean"})),this.validate(s&&s.strict?Rt(this.obj):!0,this.getValidateMsg("type.boolean"))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={true:{configurable:!0},false:{configurable:!0}};return i.true.get=function(){return this.validate(this.obj===!0,this.getValidateMsg("boolean.true"))},i.false.get=function(){return this.validate(this.obj===!1,this.getValidateMsg("boolean.false"))},Object.defineProperties(t.prototype,i),t})(z),Yt=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,Zt=new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),Bt=/^(2(5[0-5]{1}|[0-4]\d{1})|[0-1]?\d{1,2})(\.(2(5[0-5]{1}|[0-4]\d{1})|[0-1]?\d{1,2})){3}$/,Gt=(function(e){function t(r,s){e.call(this,r,Object.assign(Object.assign({},s),{type:"type"}))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={email:{configurable:!0},url:{configurable:!0},ip:{configurable:!0}};return i.email.get=function(){return this.type="email",this.validate(this.obj===void 0||Yt.test(this.obj),this.getValidateMsg("type.email"))},i.url.get=function(){return this.type="url",this.validate(this.obj===void 0||Zt.test(this.obj),this.getValidateMsg("type.url"))},i.ip.get=function(){return this.type="ip",this.validate(this.obj===void 0||Bt.test(this.obj),this.getValidateMsg("type.ip"))},Object.defineProperties(t.prototype,i),t})(z),Xt=(function(e){function t(r,s){e.call(this,r,Object.assign(Object.assign({},s),{type:"custom"}))}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var i={validate:{configurable:!0}};return i.validate.get=function(){var r=this;return function(s,a){var n;if(s)return n=s(r.obj,r.addError.bind(r)),n&&n.then?(a&&n.then(function(){a&&a(r.error)},function(l){console.error(l)}),[n,r]):(a&&a(r.error),r.error)}},Object.defineProperties(t.prototype,i),t})(z),Oe=function(e,t){return new lt(e,Object.assign({field:"value"},t))};Oe.globalConfig={};Oe.setGlobalConfig=function(e){Oe.globalConfig=e||{}};var lt=function(t,i){var r=Oe.globalConfig,s=Object.assign(Object.assign(Object.assign({},r),i),{validateMessages:Re(r.validateMessages,i.validateMessages)});this.string=new Ht(t,s),this.number=new Dt(t,s),this.array=new Kt(t,s),this.object=new Ut(t,s),this.boolean=new Qt(t,s),this.type=new Gt(t,s),this.custom=new Xt(t,s)},ze=function(t,i){i===void 0&&(i={}),this.schema=t,this.options=i};ze.prototype.messages=function(t){this.options=Object.assign(Object.assign({},this.options),{validateMessages:Re(this.options.validateMessages,t)})};ze.prototype.validate=function(t,i){var r=this;if(!Q(t))return;var s=[],a=null;function n(l,b){a||(a={}),(!a[l]||b.requiredError)&&(a[l]=b)}this.schema&&Object.keys(this.schema).forEach(function(l){if(we(r.schema[l]))for(var b=function($){var p=r.schema[l][$],g=p.type,O=p.message;if(!g&&!p.validator)throw"You must specify a type to field "+l+"!";var C=Object.assign(Object.assign({},r.options),{message:O,field:l});"ignoreEmptyString"in p&&(C.ignoreEmptyString=p.ignoreEmptyString),"strict"in p&&(C.strict=p.strict);var w=new lt(t[l],C),d=w.type[g]||null;if(!d)if(p.validator){d=w.custom.validate(p.validator),Object.prototype.toString.call(d)==="[object Array]"&&d[0].then?s.push({function:d[0],_this:d[1],key:l}):d&&n(l,d);return}else d=w[g];if(Object.keys(p).forEach(function(m){p.required&&(d=d.isRequired),m!=="message"&&d[m]&&p[m]&&typeof d[m]=="object"&&(d=d[m]),d[m]&&p[m]!==void 0&&typeof d[m]=="function"&&(d=d[m](p[m]))}),d.collect(function(m){m&&n(l,m)}),a)return"break"},j=0;j<r.schema[l].length;j++){var E=b(j);if(E==="break")break}}),s.length>0?Promise.all(s.map(function(l){return l.function})).then(function(){s.forEach(function(l){l._this.error&&n(l.key,l._this.error)}),i&&i(a)}):i&&i(a)};const ut=Symbol("RowContextInjectionKey"),Jt=ce({name:"Row",props:{gutter:{type:[Number,Object,Array],default:0},justify:{type:String,default:"start"},align:{type:String,default:"start"},div:{type:Boolean},wrap:{type:Boolean,default:!0}},setup(e){const{gutter:t,align:i,justify:r,div:s,wrap:a}=me(e),n=de("row"),l=h(()=>({[`${n}`]:!s.value,[`${n}-nowrap`]:!a.value,[`${n}-align-${i.value}`]:i.value,[`${n}-justify-${r.value}`]:r.value})),b=h(()=>Array.isArray(t.value)?t.value[0]:t.value),j=h(()=>Array.isArray(t.value)?t.value[1]:0),E=xe(b,0),$=xe(j,0),p=h(()=>{const O={};if((E.value||$.value)&&!s.value){const C=-E.value/2,w=-$.value/2;C&&(O.marginLeft=`${C}px`,O.marginRight=`${C}px`),w&&(O.marginTop=`${w}px`,O.marginBottom=`${w}px`)}return O}),g=h(()=>[E.value,$.value]);return Pe(ut,se({gutter:g,div:s})),{classNames:l,styles:p}}});function er(e,t,i,r,s,a){return A(),oe("div",{class:R(e.classNames),style:it(e.styles)},[H(e.$slots,"default")],6)}var tr=ue(Jt,[["render",er]]);function rr(e){return h(()=>{const{val:i,key:r,xs:s,sm:a,md:n,lg:l,xl:b,xxl:j}=e.value;if(!s&&!a&&!n&&!l&&!b&&!j)return i;const E={};return $e.forEach($=>{const p=e.value[$];le(p)?E[$]=p:Te(p)&&le(p[r])&&(E[$]=p[r])}),E})}function ir(e){if(Ue(e)&&(["initial","auto","none"].includes(e)||/^\d+$/.test(e))||le(e))return e;if(Ue(e)&&/^\d+(px|em|rem|%)$/.test(e))return`0 0 ${e}`}const sr=ce({name:"Col",props:{span:{type:Number,default:24},offset:{type:Number},order:{type:Number},xs:{type:[Number,Object]},sm:{type:[Number,Object]},md:{type:[Number,Object]},lg:{type:[Number,Object]},xl:{type:[Number,Object]},xxl:{type:[Number,Object]},flex:{type:[Number,String]}},setup(e){const t=de("col"),i=ye(ut,{}),r=h(()=>ir(e.flex)),s=h(()=>{const{div:$}=i,{span:p,offset:g,order:O,xs:C,sm:w,md:d,lg:m,xl:L,xxl:x}=e,q={[`${t}`]:!$,[`${t}-order-${O}`]:O,[`${t}-${p}`]:!$&&!C&&!w&&!d&&!m&&!L&&!x,[`${t}-offset-${g}`]:g&&g>0},N={xs:C,sm:w,md:d,lg:m,xl:L,xxl:x};return Object.keys(N).forEach(T=>{const S=N[T];S&&le(S)?q[`${t}-${T}-${S}`]=!0:S&&Te(S)&&(q[`${t}-${T}-${S.span}`]=S.span,q[`${t}-${T}-offset-${S.offset}`]=S.offset,q[`${t}-${T}-order-${S.order}`]=S.order)}),q}),a=h(()=>r.value?t:s.value),n=h(()=>{const{gutter:$,div:p}=i,g={};if(Array.isArray($)&&!p){const O=$[0]&&$[0]/2||0,C=$[1]&&$[1]/2||0;O&&(g.paddingLeft=`${O}px`,g.paddingRight=`${O}px`),C&&(g.paddingTop=`${C}px`,g.paddingBottom=`${C}px`)}return g}),l=h(()=>r.value?{flex:r.value}:{}),b=h(()=>Lt(e,$e)),j=rr(h(()=>({val:e.span,key:"span",...b.value}))),E=xe(j,24,!0);return{visible:h(()=>!!E.value),classNames:a,styles:h(()=>({...n.value,...l.value}))}}});function ar(e,t,i,r,s,a){return e.visible?(A(),oe("div",{key:0,class:R(e.classNames),style:it(e.styles)},[H(e.$slots,"default")],6)):U("v-if",!0)}var or=ue(sr,[["render",ar]]);const nr=ce({name:"FormItemLabel",components:{ResizeObserver:St,Tooltip:Et,IconQuestionCircle:vt},props:{required:{type:Boolean,default:!1},showColon:{type:Boolean,default:!1},component:{type:String,default:"label"},asteriskPosition:{type:String,default:"start"},tooltip:{type:String},attrs:Object},setup(){const e=de("form-item-label"),t=ye(_e,void 0),i=bt(),r=Ce(),s=()=>{r.value&&le(r.value.offsetWidth)&&t?.setLabelWidth(r.value.offsetWidth,i?.uid)};return Ae(()=>{r.value&&le(r.value.offsetWidth)&&t?.setLabelWidth(r.value.offsetWidth,i?.uid)}),st(()=>{t?.removeLabelWidth(i?.uid)}),{prefixCls:e,labelRef:r,handleResize:s}}});function lr(e,t,i,r,s,a){const n=ae("icon-question-circle"),l=ae("Tooltip"),b=ae("ResizeObserver");return A(),X(b,{onResize:e.handleResize},{default:D(()=>[(A(),X(gt(e.component),be({ref:"labelRef",class:e.prefixCls},e.attrs),{default:D(()=>[e.required&&e.asteriskPosition==="start"?(A(),oe("strong",{key:0,class:R(`${e.prefixCls}-required-symbol`)},t[0]||(t[0]=[G("svg",{fill:"currentColor",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},[G("path",{d:"M583.338667 17.066667c18.773333 0 34.133333 15.36 34.133333 34.133333v349.013333l313.344-101.888a34.133333 34.133333 0 0 1 43.008 22.016l42.154667 129.706667a34.133333 34.133333 0 0 1-21.845334 43.178667l-315.733333 102.4 208.896 287.744a34.133333 34.133333 0 0 1-7.509333 47.786666l-110.421334 80.213334a34.133333 34.133333 0 0 1-47.786666-7.509334L505.685333 706.218667 288.426667 1005.226667a34.133333 34.133333 0 0 1-47.786667 7.509333l-110.421333-80.213333a34.133333 34.133333 0 0 1-7.509334-47.786667l214.186667-295.253333L29.013333 489.813333a34.133333 34.133333 0 0 1-22.016-43.008l42.154667-129.877333a34.133333 34.133333 0 0 1 43.008-22.016l320.512 104.106667L412.672 51.2c0-18.773333 15.36-34.133333 34.133333-34.133333h136.533334z"})],-1)]),2)):U("v-if",!0),H(e.$slots,"default"),e.tooltip?(A(),X(l,{key:1,content:e.tooltip},{default:D(()=>[Me(n,{class:R(`${e.prefixCls}-tooltip`)},null,8,["class"])]),_:1},8,["content"])):U("v-if",!0),e.required&&e.asteriskPosition==="end"?(A(),oe("strong",{key:2,class:R(`${e.prefixCls}-required-symbol`)},t[1]||(t[1]=[G("svg",{fill:"currentColor",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},[G("path",{d:"M583.338667 17.066667c18.773333 0 34.133333 15.36 34.133333 34.133333v349.013333l313.344-101.888a34.133333 34.133333 0 0 1 43.008 22.016l42.154667 129.706667a34.133333 34.133333 0 0 1-21.845334 43.178667l-315.733333 102.4 208.896 287.744a34.133333 34.133333 0 0 1-7.509333 47.786666l-110.421334 80.213334a34.133333 34.133333 0 0 1-47.786666-7.509334L505.685333 706.218667 288.426667 1005.226667a34.133333 34.133333 0 0 1-47.786667 7.509333l-110.421333-80.213333a34.133333 34.133333 0 0 1-7.509334-47.786667l214.186667-295.253333L29.013333 489.813333a34.133333 34.133333 0 0 1-22.016-43.008l42.154667-129.877333a34.133333 34.133333 0 0 1 43.008-22.016l320.512 104.106667L412.672 51.2c0-18.773333 15.36-34.133333 34.133333-34.133333h136.533334z"})],-1)]),2)):U("v-if",!0),je(" "+he(e.showColon?":":""),1)]),_:3},16,["class"]))]),_:3},8,["onResize"])}var ur=ue(nr,[["render",lr]]);const cr=ce({name:"FormItemMessage",props:{error:{type:Array,default:()=>[]},help:String},setup(){return{prefixCls:de("form-item-message")}}});function dr(e,t,i,r,s,a){return e.error.length>0?(A(!0),oe(yt,{key:0},mt(e.error,n=>(A(),X(Qe,{key:n,name:"form-blink",appear:""},{default:D(()=>[G("div",{role:"alert",class:R([e.prefixCls])},he(n),3)]),_:2},1024))),128)):e.help||e.$slots.help?(A(),X(Qe,{key:1,name:"form-blink",appear:""},{default:D(()=>[G("div",{class:R([e.prefixCls,`${e.prefixCls}-help`])},[H(e.$slots,"help",{},()=>[je(he(e.help),1)])],2)]),_:3})):U("v-if",!0)}var fr=ue(cr,[["render",dr]]);const hr=ce({name:"FormItem",components:{ArcoRow:tr,ArcoCol:or,FormItemLabel:ur,FormItemMessage:fr},props:{field:{type:String,default:""},label:String,tooltip:{type:String},showColon:{type:Boolean,default:!1},noStyle:{type:Boolean,default:!1},disabled:{type:Boolean,default:void 0},help:String,extra:String,required:{type:Boolean,default:!1},asteriskPosition:{type:String,default:"start"},rules:{type:[Object,Array]},validateStatus:{type:String},validateTrigger:{type:[String,Array],default:"change"},labelColProps:Object,wrapperColProps:Object,hideLabel:{type:Boolean,default:!1},hideAsterisk:{type:Boolean,default:!1},labelColStyle:Object,wrapperColStyle:Object,rowProps:Object,rowClass:[String,Array,Object],contentClass:[String,Array,Object],contentFlex:{type:Boolean,default:!0},mergeProps:{type:[Boolean,Function],default:!0},labelColFlex:{type:[Number,String]},feedback:{type:Boolean,default:!1},labelComponent:{type:String,default:"label"},labelAttrs:Object},setup(e){const t=de("form-item"),{field:i}=me(e),r=ye(_e,{}),{autoLabelWidth:s,layout:a}=me(r),{i18nMessage:n}=Vt(),l=h(()=>{var o;const u={...(o=e.labelColProps)!=null?o:r.labelColProps};return e.labelColFlex?u.flex=e.labelColFlex:r.autoLabelWidth&&(u.flex=`${r.maxLabelWidth}px`),u}),b=h(()=>{var o;const u={...(o=e.wrapperColProps)!=null?o:r.wrapperColProps};return i.value&&(u.id=ot(r.id,i.value)),(e.labelColFlex||r.autoLabelWidth)&&(u.flex="auto"),u}),j=h(()=>{var o;return(o=e.labelColStyle)!=null?o:r.labelColStyle}),E=h(()=>{var o;return(o=e.wrapperColStyle)!=null?o:r.wrapperColStyle}),$=Ze(r.model,e.field),p=se({}),g=se({}),O=h(()=>kt(p)),C=h(()=>At(g)),w=Ce(!1),d=h(()=>Ze(r.model,e.field)),m=h(()=>{var o;return!!((o=e.disabled)!=null?o:r?.disabled)}),L=h(()=>{var o;return(o=e.validateStatus)!=null?o:O.value}),x=h(()=>L.value==="error"),q=h(()=>{var o,u,f;const V=[].concat((f=(u=e.rules)!=null?u:(o=r?.rules)==null?void 0:o[e.field])!=null?f:[]),_=V.some(P=>P.required);return e.required&&!_?[{required:!0}].concat(V):V}),N=h(()=>q.value.some(o=>o.required)),T=e.noStyle?ye(Ye,void 0):void 0,S=(o,{status:u,message:f})=>{p[o]=u,g[o]=f,e.noStyle&&T?.updateValidateState(o,{status:u,message:f})},k=h(()=>e.feedback&&L.value?L.value:void 0),F=()=>{var o;if(w.value)return Promise.resolve();const u=q.value;if(!i.value||u.length===0)return O.value&&y(),Promise.resolve();const f=i.value,V=d.value;S(f,{status:"",message:""});const _=new ze({[f]:u.map(({...P})=>(!P.type&&!P.validator&&(P.type="string"),P))},{ignoreEmptyString:!0,validateMessages:(o=n.value.form)==null?void 0:o.validateMessages});return new Promise(P=>{_.validate({[f]:V},M=>{var I;const te=!!M?.[f];S(f,{status:te?"error":"",message:(I=M?.[f].message)!=null?I:""});const ne=te?{label:e.label,field:i.value,value:M[f].value,type:M[f].type,isRequiredError:!!M[f].requiredError,message:M[f].message}:void 0;P(ne)})})},J=h(()=>[].concat(e.validateTrigger)),Y=h(()=>J.value.reduce((o,u)=>{switch(u){case"change":return o.onChange=()=>{F()},o;case"input":return o.onInput=()=>{Ve(()=>{F()})},o;case"focus":return o.onFocus=()=>{F()},o;case"blur":return o.onBlur=()=>{F()},o;default:return o}},{}));Pe(Ye,se({eventHandlers:Y,size:r&&$t(r,"size"),disabled:m,error:x,feedback:k,updateValidateState:S}));const y=()=>{i.value&&S(i.value,{status:"",message:""})},W=se({field:i,disabled:m,error:x,validate:F,clearValidate:y,resetField:()=>{y(),w.value=!0,r?.model&&i.value&&Be(r.model,i.value,$),Ve(()=>{w.value=!1})},setField:o=>{var u,f;i.value&&(w.value=!0,"value"in o&&r?.model&&i.value&&Be(r.model,i.value,o.value),(o.status||o.message)&&S(i.value,{status:(u=o.status)!=null?u:"",message:(f=o.message)!=null?f:""}),Ve(()=>{w.value=!1}))}});Ae(()=>{var o;W.field&&((o=r.addField)==null||o.call(r,W))}),st(()=>{var o;W.field&&((o=r.removeField)==null||o.call(r,W))});const ee=h(()=>[t,`${t}-layout-${r.layout}`,{[`${t}-error`]:x.value,[`${t}-status-${L.value}`]:!!L.value},e.rowClass]),c=h(()=>[`${t}-label-col`,{[`${t}-label-col-left`]:r.labelAlign==="left",[`${t}-label-col-flex`]:r.autoLabelWidth||e.labelColFlex}]),v=h(()=>[`${t}-wrapper-col`,{[`${t}-wrapper-col-flex`]:!b.value}]);return{prefixCls:t,cls:ee,isRequired:N,isError:x,finalMessage:C,mergedLabelCol:l,mergedWrapperCol:b,labelColCls:c,autoLabelWidth:s,layout:a,mergedLabelStyle:j,wrapperColCls:v,mergedWrapperStyle:E}}});function pr(e,t,i,r,s,a){var n;const l=ae("FormItemLabel"),b=ae("ArcoCol"),j=ae("FormItemMessage"),E=ae("ArcoRow");return e.noStyle?H(e.$slots,"default",{key:0}):(A(),X(E,be({key:1,class:[e.cls,{[`${e.prefixCls}-has-help`]:!!((n=e.$slots.help)!=null?n:e.help)}],wrap:!(e.labelColFlex||e.autoLabelWidth),div:e.layout!=="horizontal"||e.hideLabel},e.rowProps),{default:D(()=>[e.hideLabel?U("v-if",!0):(A(),X(b,be({key:0,class:e.labelColCls,style:e.mergedLabelStyle},e.mergedLabelCol),{default:D(()=>[Me(l,{required:e.hideAsterisk?!1:e.isRequired,"show-colon":e.showColon,"asterisk-position":e.asteriskPosition,component:e.labelComponent,attrs:e.labelAttrs,tooltip:e.tooltip},{default:D(()=>[e.$slots.label||e.label?H(e.$slots,"label",{key:0},()=>[je(he(e.label),1)]):U("v-if",!0)]),_:3},8,["required","show-colon","asterisk-position","component","attrs","tooltip"])]),_:3},16,["class","style"])),Me(b,be({class:e.wrapperColCls,style:e.mergedWrapperStyle},e.mergedWrapperCol),{default:D(()=>[G("div",{class:R(`${e.prefixCls}-content-wrapper`)},[G("div",{class:R([`${e.prefixCls}-content`,{[`${e.prefixCls}-content-flex`]:e.contentFlex},e.contentClass])},[H(e.$slots,"default")],2)],2),e.isError||e.$slots.help||e.help?(A(),X(j,{key:0,error:e.finalMessage,help:e.help},jt({_:2},[e.$slots.help?{name:"help",fn:D(()=>[H(e.$slots,"help")]),key:"0"}:void 0]),1032,["error","help"])):U("v-if",!0),e.$slots.extra||e.extra?(A(),oe("div",{key:1,class:R(`${e.prefixCls}-extra`)},[H(e.$slots,"extra",{},()=>[je(he(e.extra),1)])],2)):U("v-if",!0)]),_:3},16,["class","style"])]),_:3},16,["class","wrap","div"]))}var Fe=ue(hr,[["render",pr]]);const jr=Object.assign(Le,{Item:Fe,install:(e,t)=>{Ot(e,t);const i=Ct(t);e.component(i+Le.name,Le),e.component(i+Fe.name,Fe)}});export{jr as F,Fe as a};
