import{a2 as R,G as B,R as De,r as m,ah as Re,al as Oe,a6 as et,e as N,V as te,C as ne,U as V,Y as Te,ac as tt,Q as nt,E as ut,ak as ot,aQ as rt,b as w,aG as it,K as lt,ao as at,az as st,aA as ct,F as ft,Z as be,H as dt,I as ht}from"./CbujNTzC.js";import{j as vt,d as Ee,u as mt,a as X,o as ye}from"./C4FomA2R.js";import{d as bt,i as Et,m as yt}from"./7FLWgqLH.js";import{o as wt}from"./DRQ8spOm.js";const W={formatYear:"YYYY 年",formatMonth:"YYYY 年 MM 月",today:"今天",view:{month:"月",year:"年",week:"周",day:"日"},month:{long:{January:"一月",February:"二月",March:"三月",April:"四月",May:"五月",June:"六月",July:"七月",August:"八月",September:"九月",October:"十月",November:"十一月",December:"十二月"},short:{January:"一月",February:"二月",March:"三月",April:"四月",May:"五月",June:"六月",July:"七月",August:"八月",September:"九月",October:"十月",November:"十一月",December:"十二月"}},week:{long:{self:"周",monday:"周一",tuesday:"周二",wednesday:"周三",thursday:"周四",friday:"周五",saturday:"周六",sunday:"周日"},short:{self:"周",monday:"一",tuesday:"二",wednesday:"三",thursday:"四",friday:"五",saturday:"六",sunday:"日"}}},pt={locale:"zh-CN",empty:{description:"暂无数据"},drawer:{okText:"确定",cancelText:"取消"},popconfirm:{okText:"确定",cancelText:"取消"},modal:{okText:"确定",cancelText:"取消"},pagination:{goto:"前往",page:"页",countPerPage:"条/页",total:"共 {0} 条"},table:{okText:"确定",resetText:"重置"},upload:{start:"开始",cancel:"取消",delete:"删除",retry:"点击重试",buttonText:"点击上传",preview:"预览",drag:"点击或拖拽文件到此处上传",dragHover:"释放文件并开始上传",error:"上传失败"},calendar:W,datePicker:{view:W.view,month:W.month,week:W.week,placeholder:{date:"请选择日期",week:"请选择周",month:"请选择月份",year:"请选择年份",quarter:"请选择季度",time:"请选择时间"},rangePlaceholder:{date:["开始日期","结束日期"],week:["开始周","结束周"],month:["开始月份","结束月份"],year:["开始年份","结束年份"],quarter:["开始季度","结束季度"],time:["开始时间","结束时间"]},selectTime:"选择时间",today:"今天",now:"此刻",ok:"确定"},image:{loading:"加载中"},imagePreview:{fullScreen:"全屏",rotateRight:"向右旋转",rotateLeft:"向左旋转",zoomIn:"放大",zoomOut:"缩小",originalSize:"原始尺寸"},typography:{copied:"已复制",copy:"复制",expand:"展开",collapse:"折叠",edit:"编辑"},form:{validateMessages:{required:"#{field} 是必填项",type:{string:"#{field} 不是合法的文本类型",number:"#{field} 不是合法的数字类型",boolean:"#{field} 不是合法的布尔类型",array:"#{field} 不是合法的数组类型",object:"#{field} 不是合法的对象类型",url:"#{field} 不是合法的 url 地址",email:"#{field} 不是合法的邮箱地址",ip:"#{field} 不是合法的 IP 地址"},number:{min:"`#{value}` 小于最小值 `#{min}`",max:"`#{value}` 大于最大值 `#{max}`",equal:"`#{value}` 不等于 `#{equal}`",range:"`#{value}` 不在 `#{min} ~ #{max}` 范围内",positive:"`#{value}` 不是正数",negative:"`#{value}` 不是负数"},array:{length:"`#{field}` 个数不等于 #{length}",minLength:"`#{field}` 个数最少为 #{minLength}",maxLength:"`#{field}` 个数最多为 #{maxLength}",includes:"#{field} 不包含 #{includes}",deepEqual:"#{field} 不等于 #{deepEqual}",empty:"`#{field}` 不是空数组"},string:{minLength:"字符数最少为 #{minLength}",maxLength:"字符数最多为 #{maxLength}",length:"字符数必须是 #{length}",match:"`#{value}` 不符合模式 #{pattern}",uppercase:"`#{value}` 必须全大写",lowercase:"`#{value}` 必须全小写"},object:{deepEqual:"`#{field}` 不等于期望值",hasKeys:"`#{field}` 不包含必须字段",empty:"`#{field}` 不是对象"},boolean:{true:"期望是 `true`",false:"期望是 `false`"}}},colorPicker:{history:"最近使用颜色",preset:"系统预设颜色",empty:"暂无"}},gt=m("zh-CN"),Ct=De({"zh-CN":pt}),rn=()=>{const e=R(Oe,void 0),t=B(()=>{var o;return(o=e?.locale)!=null?o:Ct[gt.value]}),n=B(()=>t.value.locale);return{i18nMessage:t,locale:n,t:(o,...i)=>{const l=o.split(".");let c=t.value;for(const a of l){if(!c[a])return o;c=c[a]}return Re(c)&&i.length>0?c.replace(/{(\d+)}/g,(a,f)=>{var d;return(d=i[f])!=null?d:a}):c}}};var Ae=(function(){if(typeof Map<"u")return Map;function e(t,n){var u=-1;return t.some(function(o,i){return o[0]===n?(u=i,!0):!1}),u}return(function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(n){var u=e(this.__entries__,n),o=this.__entries__[u];return o&&o[1]},t.prototype.set=function(n,u){var o=e(this.__entries__,n);~o?this.__entries__[o][1]=u:this.__entries__.push([n,u])},t.prototype.delete=function(n){var u=this.__entries__,o=e(u,n);~o&&u.splice(o,1)},t.prototype.has=function(n){return!!~e(this.__entries__,n)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(n,u){u===void 0&&(u=null);for(var o=0,i=this.__entries__;o<i.length;o++){var l=i[o];n.call(u,l[1],l[0])}},t})()})(),ee=typeof window<"u"&&typeof document<"u"&&window.document===document,$=(function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()})(),Ft=(function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind($):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}})(),Bt=2;function _t(e,t){var n=!1,u=!1,o=0;function i(){n&&(n=!1,e()),u&&c()}function l(){Ft(i)}function c(){var a=Date.now();if(n){if(a-o<Bt)return;u=!0}else n=!0,u=!1,setTimeout(l,t);o=a}return c}var Dt=20,Ot=["top","right","bottom","left","width","height","size","weight"],Tt=typeof MutationObserver<"u",At=(function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=_t(this.refresh.bind(this),Dt)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var n=this.observers_,u=n.indexOf(t);~u&&n.splice(u,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return t.forEach(function(n){return n.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!ee||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Tt?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!ee||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var n=t.propertyName,u=n===void 0?"":n,o=Ot.some(function(i){return!!~u.indexOf(i)});o&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e})(),Me=(function(e,t){for(var n=0,u=Object.keys(t);n<u.length;n++){var o=u[n];Object.defineProperty(e,o,{value:t[o],enumerable:!1,writable:!1,configurable:!0})}return e}),T=(function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||$}),Se=H(0,0,0,0);function I(e){return parseFloat(e)||0}function we(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce(function(u,o){var i=e["border-"+o+"-width"];return u+I(i)},0)}function Mt(e){for(var t=["top","right","bottom","left"],n={},u=0,o=t;u<o.length;u++){var i=o[u],l=e["padding-"+i];n[i]=I(l)}return n}function St(e){var t=e.getBBox();return H(0,0,t.width,t.height)}function xt(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return Se;var u=T(e).getComputedStyle(e),o=Mt(u),i=o.left+o.right,l=o.top+o.bottom,c=I(u.width),a=I(u.height);if(u.boxSizing==="border-box"&&(Math.round(c+i)!==t&&(c-=we(u,"left","right")+i),Math.round(a+l)!==n&&(a-=we(u,"top","bottom")+l)),!Lt(e)){var f=Math.round(c+i)-t,d=Math.round(a+l)-n;Math.abs(f)!==1&&(c-=f),Math.abs(d)!==1&&(a-=d)}return H(o.left,o.top,c,a)}var zt=(function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof T(e).SVGGraphicsElement}:function(e){return e instanceof T(e).SVGElement&&typeof e.getBBox=="function"}})();function Lt(e){return e===T(e).document.documentElement}function Pt(e){return ee?zt(e)?St(e):xt(e):Se}function kt(e){var t=e.x,n=e.y,u=e.width,o=e.height,i=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(i.prototype);return Me(l,{x:t,y:n,width:u,height:o,top:n,right:t+u,bottom:o+n,left:t}),l}function H(e,t,n,u){return{x:e,y:t,width:n,height:u}}var Wt=(function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=H(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=Pt(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e})(),jt=(function(){function e(t,n){var u=kt(n);Me(this,{target:t,contentRect:u})}return e})(),Vt=(function(){function e(t,n,u){if(this.activeObservations_=[],this.observations_=new Ae,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=n,this.callbackCtx_=u}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof T(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)||(n.set(t,new Wt(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(t instanceof T(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(t)&&(n.delete(t),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&t.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,n=this.activeObservations_.map(function(u){return new jt(u.target,u.broadcastRect())});this.callback_.call(t,n,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e})(),xe=typeof WeakMap<"u"?new WeakMap:new Ae,ze=(function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=At.getInstance(),u=new Vt(t,n,this);xe.set(this,u)}return e})();["observe","unobserve","disconnect"].forEach(function(e){ze.prototype[e]=function(){var t;return(t=xe.get(this))[e].apply(t,arguments)}});var Le=(function(){return typeof $.ResizeObserver<"u"?$.ResizeObserver:ze})();const Pe=typeof window>"u"?global:window,$t=Pe.requestAnimationFrame,pe=Pe.cancelAnimationFrame;function ge(e){let t=0;const n=(...u)=>{t&&pe(t),t=$t(()=>{e(...u),t=0})};return n.cancel=()=>{pe(t),t=0},n}const It=()=>{const{height:e,width:t}=vt();return{width:Math.min(t,window.innerWidth),height:Math.min(e,window.innerHeight)}},Ce=(e,t)=>{var n,u;const o=e.getBoundingClientRect();return{top:o.top,bottom:o.bottom,left:o.left,right:o.right,scrollTop:o.top-t.top,scrollBottom:o.bottom-t.top,scrollLeft:o.left-t.left,scrollRight:o.right-t.left,width:(n=e.offsetWidth)!=null?n:e.clientWidth,height:(u=e.offsetHeight)!=null?u:e.clientHeight}},Nt=e=>{switch(e){case"top":case"tl":case"tr":return"top";case"bottom":case"bl":case"br":return"bottom";case"left":case"lt":case"lb":return"left";case"right":case"rt":case"rb":return"right";default:return"top"}},j=(e,t)=>{switch(t){case"top":switch(e){case"bottom":return"top";case"bl":return"tl";case"br":return"tr";default:return e}case"bottom":switch(e){case"top":return"bottom";case"tl":return"bl";case"tr":return"br";default:return e}case"left":switch(e){case"right":return"left";case"rt":return"lt";case"rb":return"lb";default:return e}case"right":switch(e){case"left":return"right";case"lt":return"rt";case"lb":return"rb";default:return e}default:return e}},Ht=(e,t,{containerRect:n,triggerRect:u,popupRect:o,offset:i,translate:l})=>{const c=Nt(e),a=It(),f={top:n.top+t.top,bottom:a.height-(n.top+t.top+o.height),left:n.left+t.left,right:a.width-(n.left+t.left+o.width)};let d=e;if(c==="top"&&f.top<0)if(u.top>o.height)t.top=-n.top;else{const v=S("bottom",u,o,{offset:i,translate:l});a.height-(n.top+v.top+o.height)>0&&(d=j(e,"bottom"),t.top=v.top)}if(c==="bottom"&&f.bottom<0)if(a.height-u.bottom>o.height)t.top=-n.top+(a.height-o.height);else{const v=S("top",u,o,{offset:i,translate:l});n.top+v.top>0&&(d=j(e,"top"),t.top=v.top)}if(c==="left"&&f.left<0)if(u.left>o.width)t.left=-n.left;else{const v=S("right",u,o,{offset:i,translate:l});a.width-(n.left+v.left+o.width)>0&&(d=j(e,"right"),t.left=v.left)}if(c==="right"&&f.right<0)if(a.width-u.right>o.width)t.left=-n.left+(a.width-o.width);else{const v=S("left",u,o,{offset:i,translate:l});n.left+v.left>0&&(d=j(e,"left"),t.left=v.left)}return(c==="top"||c==="bottom")&&(f.left<0?t.left=-n.left:f.right<0&&(t.left=-n.left+(a.width-o.width))),(c==="left"||c==="right")&&(f.top<0?t.top=-n.top:f.bottom<0&&(t.top=-n.top+(a.height-o.height))),{popupPosition:t,position:d}},S=(e,t,n,{offset:u=0,translate:o=[0,0]}={})=>{var i;const l=(i=et(o)?o:o[e])!=null?i:[0,0];switch(e){case"top":return{left:t.scrollLeft+Math.round(t.width/2)-Math.round(n.width/2)+l[0],top:t.scrollTop-n.height-u+l[1]};case"tl":return{left:t.scrollLeft+l[0],top:t.scrollTop-n.height-u+l[1]};case"tr":return{left:t.scrollRight-n.width+l[0],top:t.scrollTop-n.height-u+l[1]};case"bottom":return{left:t.scrollLeft+Math.round(t.width/2)-Math.round(n.width/2)+l[0],top:t.scrollBottom+u+l[1]};case"bl":return{left:t.scrollLeft+l[0],top:t.scrollBottom+u+l[1]};case"br":return{left:t.scrollRight-n.width+l[0],top:t.scrollBottom+u+l[1]};case"left":return{left:t.scrollLeft-n.width-u+l[0],top:t.scrollTop+Math.round(t.height/2)-Math.round(n.height/2)+l[1]};case"lt":return{left:t.scrollLeft-n.width-u+l[0],top:t.scrollTop+l[1]};case"lb":return{left:t.scrollLeft-n.width-u+l[0],top:t.scrollBottom-n.height+l[1]};case"right":return{left:t.scrollRight+u+l[0],top:t.scrollTop+Math.round(t.height/2)-Math.round(n.height/2)+l[1]};case"rt":return{left:t.scrollRight+u+l[0],top:t.scrollTop+l[1]};case"rb":return{left:t.scrollRight+u+l[0],top:t.scrollBottom-n.height+l[1]};default:return{left:0,top:0}}},qt=e=>{let t="0";["top","bottom"].includes(e)?t="50%":["left","lt","lb","tr","br"].includes(e)&&(t="100%");let n="0";return["left","right"].includes(e)?n="50%":["top","tl","tr","lb","rb"].includes(e)&&(n="100%"),`${t} ${n}`},Gt=(e,t,n,u,{offset:o=0,translate:i=[0,0],customStyle:l={},autoFitPosition:c=!1}={})=>{let a=e,f=S(e,n,u,{offset:o,translate:i});if(c){const v=Ht(e,f,{containerRect:t,popupRect:u,triggerRect:n,offset:o,translate:i});f=v.popupPosition,a=v.position}return{style:{left:`${f.left}px`,top:`${f.top}px`,...l},position:a}},Yt=(e,t,n,{customStyle:u={}})=>{if(["top","tl","tr","bottom","bl","br"].includes(e)){let i=Math.abs(t.scrollLeft+t.width/2-n.scrollLeft);return i>n.width-8&&(t.width>n.width?i=n.width/2:i=n.width-8),["top","tl","tr"].includes(e)?{left:`${i}px`,bottom:"0",transform:"translate(-50%,50%) rotate(45deg)",...u}:{left:`${i}px`,top:"0",transform:"translate(-50%,-50%) rotate(45deg)",...u}}let o=Math.abs(t.scrollTop+t.height/2-n.scrollTop);return o>n.height-8&&(t.height>n.height?o=n.height/2:o=n.height-8),["left","lt","lb"].includes(e)?{top:`${o}px`,right:"0",transform:"translate(50%,-50%) rotate(45deg)",...u}:{top:`${o}px`,left:"0",transform:"translate(-50%,-50%) rotate(45deg)",...u}},Jt=e=>e.scrollHeight>e.offsetHeight||e.scrollWidth>e.offsetWidth,Fe=e=>{var t;const n=[];let u=e;for(;u&&u!==document.documentElement;)Jt(u)&&n.push(u),u=(t=u.parentElement)!=null?t:void 0;return n},ke=()=>{const e={},t=m(),n=()=>{const u=bt(e.value);u!==t.value&&(t.value=u)};return N(()=>n()),te(()=>n()),{children:e,firstElement:t}};var Be=ne({name:"ResizeObserver",props:{watchOnUpdated:Boolean},emits:["resize"],setup(e,{emit:t,slots:n}){const{children:u,firstElement:o}=ke();let i;const l=a=>{a&&(i=new Le(f=>{const d=f[0];t("resize",d)}),i.observe(a))},c=()=>{i&&(i.disconnect(),i=null)};return V(o,a=>{i&&c(),a&&l(a)}),Te(()=>{i&&c()}),()=>{var a;return u.value=(a=n.default)==null?void 0:a.call(n),u.value}}});function Kt(e,t){const n=m(e[t]);return te(()=>{const u=e[t];n.value!==u&&(n.value=u)}),n}const _e=Symbol("ArcoTrigger"),Ut=({elementRef:e,onResize:t})=>{let n;return{createResizeObserver:()=>{e.value&&(n=new Le(i=>{const l=i[0];tt(t)&&t(l)}),n.observe(e.value))},destroyResizeObserver:()=>{n&&(n.disconnect(),n=null)}}};var Qt=ne({name:"ClientOnly",setup(e,{slots:t}){const n=m(!1);return N(()=>n.value=!0),()=>{var u;return n.value?(u=t.default)==null?void 0:u.call(t):null}}});const Xt=({popupContainer:e,visible:t,defaultContainer:n="body",documentContainer:u})=>{const o=m(e.value),i=m(),l=()=>{const c=Ee(e.value),a=c?e.value:n,f=c??(u?document.documentElement:Ee(n));a!==o.value&&(o.value=a),f!==i.value&&(i.value=f)};return N(()=>l()),V(t,c=>{o.value!==e.value&&c&&l()}),{teleportContainer:o,containerRef:i}},Zt=["onClick","onMouseenter","onMouseleave","onFocusin","onFocusout","onContextmenu"];var Z=ne({name:"Trigger",inheritAttrs:!1,props:{popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},trigger:{type:[String,Array],default:"hover"},position:{type:String,default:"bottom"},disabled:{type:Boolean,default:!1},popupOffset:{type:Number,default:0},popupTranslate:{type:[Array,Object]},showArrow:{type:Boolean,default:!1},alignPoint:{type:Boolean,default:!1},popupHoverStay:{type:Boolean,default:!0},blurToClose:{type:Boolean,default:!0},clickToClose:{type:Boolean,default:!0},clickOutsideToClose:{type:Boolean,default:!0},unmountOnClose:{type:Boolean,default:!0},contentClass:{type:[String,Array,Object]},contentStyle:{type:Object},arrowClass:{type:[String,Array,Object]},arrowStyle:{type:Object},popupStyle:{type:Object},animationName:{type:String,default:"fade-in"},duration:{type:[Number,Object]},mouseEnterDelay:{type:Number,default:100},mouseLeaveDelay:{type:Number,default:100},focusDelay:{type:Number,default:0},autoFitPopupWidth:{type:Boolean,default:!1},autoFitPopupMinWidth:{type:Boolean,default:!1},autoFixPosition:{type:Boolean,default:!0},popupContainer:{type:[String,Object]},updateAtScroll:{type:Boolean,default:!1},autoFitTransformOrigin:{type:Boolean,default:!1},hideEmpty:{type:Boolean,default:!1},openedClass:{type:[String,Array,Object]},autoFitPosition:{type:Boolean,default:!0},renderToBody:{type:Boolean,default:!0},preventFocus:{type:Boolean,default:!1},scrollToClose:{type:Boolean,default:!1},scrollToCloseDistance:{type:Number,default:0}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0,show:()=>!0,hide:()=>!0,resize:()=>!0},setup(e,{emit:t,slots:n,attrs:u}){const{popupContainer:o}=nt(e),i=ut("trigger"),l=B(()=>wt(u,Zt)),c=R(Oe,void 0),a=B(()=>[].concat(e.trigger)),f=new Set,d=R(_e,void 0),{children:v,firstElement:A}=ke(),_=m(),ue=m(e.defaultPopupVisible),x=m(e.position),oe=m({}),re=m({}),ie=m({}),We=m(),p=m({top:0,left:0});let z=null,L=null;const h=B(()=>{var r;return(r=e.popupVisible)!=null?r:ue.value}),{teleportContainer:je,containerRef:q}=Xt({popupContainer:o,visible:h,documentContainer:!0}),{zIndex:Ve}=mt("popup",{visible:h});let M=0,g=!1,G=!1;const $e=()=>{M&&(window.clearTimeout(M),M=0)},Y=r=>{if(e.alignPoint){const{pageX:s,pageY:b}=r;p.value={top:b,left:s}}},C=()=>{if(!A.value||!_.value||!q.value)return;const r=q.value.getBoundingClientRect(),s=e.alignPoint?{top:p.value.top,bottom:p.value.top,left:p.value.left,right:p.value.left,scrollTop:p.value.top,scrollBottom:p.value.top,scrollLeft:p.value.left,scrollRight:p.value.left,width:0,height:0}:Ce(A.value,r),b=()=>Ce(_.value,r),D=b(),{style:F,position:O}=Gt(e.position,r,s,D,{offset:e.popupOffset,translate:e.popupTranslate,customStyle:e.popupStyle,autoFitPosition:e.autoFitPosition});e.autoFitTransformOrigin&&(re.value={transformOrigin:qt(O)}),e.autoFitPopupMinWidth?F.minWidth=`${s.width}px`:e.autoFitPopupWidth&&(F.width=`${s.width}px`),x.value!==O&&(x.value=O),oe.value=F,e.showArrow&&be(()=>{ie.value=Yt(O,s,b(),{customStyle:e.arrowStyle})})},E=(r,s)=>{if(r===h.value&&M===0)return;const b=()=>{ue.value=r,t("update:popupVisible",r),t("popupVisibleChange",r),r&&be(()=>{C()})};r||(z=null,L=null),s?($e(),r!==h.value&&(M=window.setTimeout(b,s))):b()},Ie=r=>{var s;(s=u.onClick)==null||s.call(u,r),!(e.disabled||h.value&&!e.clickToClose)&&(a.value.includes("click")?(Y(r),E(!h.value)):a.value.includes("contextMenu")&&h.value&&E(!1))},le=r=>{var s;(s=u.onMouseenter)==null||s.call(u,r),!(e.disabled||!a.value.includes("hover"))&&(Y(r),E(!0,e.mouseEnterDelay))},ae=r=>{d?.onMouseenter(r),le(r)},se=r=>{var s;(s=u.onMouseleave)==null||s.call(u,r),!(e.disabled||!a.value.includes("hover"))&&E(!1,e.mouseLeaveDelay)},ce=r=>{d?.onMouseleave(r),se(r)},Ne=r=>{var s;(s=u.onFocusin)==null||s.call(u,r),!(e.disabled||!a.value.includes("focus"))&&E(!0,e.focusDelay)},He=r=>{var s;(s=u.onFocusout)==null||s.call(u,r),!(e.disabled||!a.value.includes("focus"))&&e.blurToClose&&E(!1)},qe=r=>{var s;(s=u.onContextmenu)==null||s.call(u,r),!(e.disabled||!a.value.includes("contextMenu")||h.value&&!e.clickToClose)&&(Y(r),E(!h.value),r.preventDefault())};ot(_e,De({onMouseenter:ae,onMouseleave:ce,addChildRef:r=>{f.add(r),d?.addChildRef(r)},removeChildRef:r=>{f.delete(r),d?.removeChildRef(r)}}));const J=()=>{ye(document.documentElement,"mousedown",K),g=!1},fe=Kt(n,"content"),Ge=B(()=>{var r;return e.hideEmpty&&Et((r=fe.value)==null?void 0:r.call(fe))}),K=r=>{var s,b,D;if(!((s=A.value)!=null&&s.contains(r.target)||(b=_.value)!=null&&b.contains(r.target))){for(const F of f)if((D=F.value)!=null&&D.contains(r.target))return;J(),E(!1)}},de=(r,s)=>{const[b,D]=r,{scrollTop:F,scrollLeft:O}=s;return Math.abs(F-b)>=e.scrollToCloseDistance||Math.abs(O-D)>=e.scrollToCloseDistance},P=ge(r=>{if(h.value)if(e.scrollToClose||c?.scrollToClose){const s=r.target;z||(z=[s.scrollTop,s.scrollLeft]),de(z,s)?E(!1):C()}else C()}),he=()=>{ye(window,"scroll",ve),G=!1},ve=ge(r=>{const s=r.target.documentElement;L||(L=[s.scrollTop,s.scrollLeft]),de(L,s)&&(E(!1),he())}),U=()=>{h.value&&C()},Ye=()=>{U(),t("resize")},Je=r=>{e.preventFocus&&r.preventDefault()};d?.addChildRef(_);const Ke=B(()=>h.value?e.openedClass:void 0);let y;V(h,r=>{if(e.clickOutsideToClose&&(!r&&g?J():r&&!g&&(X(document.documentElement,"mousedown",K),g=!0)),(e.scrollToClose||c?.scrollToClose)&&(X(window,"scroll",ve),G=!0),e.updateAtScroll||c?.updateAtScroll){if(r){y=Fe(A.value);for(const s of y)s.addEventListener("scroll",P)}else if(y){for(const s of y)s.removeEventListener("scroll",P);y=void 0}}r&&(Q.value=!0)}),V(()=>[e.autoFitPopupWidth,e.autoFitPopupMinWidth],()=>{h.value&&C()});const{createResizeObserver:Ue,destroyResizeObserver:Qe}=Ut({elementRef:q,onResize:U});N(()=>{if(Ue(),h.value&&(C(),e.clickOutsideToClose&&!g&&(X(document.documentElement,"mousedown",K),g=!0),e.updateAtScroll||c?.updateAtScroll)){y=Fe(A.value);for(const r of y)r.addEventListener("scroll",P)}}),te(()=>{h.value&&C()}),rt(()=>{E(!1)}),Te(()=>{if(d?.removeChildRef(_),Qe(),g&&J(),G&&he(),y){for(const r of y)r.removeEventListener("scroll",P);y=void 0}});const Q=m(h.value),k=m(!1),me=()=>{k.value=!0},Xe=()=>{k.value=!1,h.value&&t("show")},Ze=()=>{k.value=!1,h.value||(Q.value=!1,t("hide"))};return()=>{var r,s;return v.value=(s=(r=n.default)==null?void 0:r.call(n))!=null?s:[],yt(v.value,{class:Ke.value,onClick:Ie,onMouseenter:le,onMouseleave:se,onFocusin:Ne,onFocusout:He,onContextmenu:qe}),w(ft,null,[e.autoFixPosition?w(Be,{onResize:Ye},{default:()=>[v.value]}):v.value,w(Qt,null,{default:()=>[w(it,{to:je.value,disabled:!e.renderToBody},{default:()=>[(!e.unmountOnClose||h.value||Q.value)&&!Ge.value&&w(Be,{onResize:U},{default:()=>[w("div",lt({ref:_,class:[`${i}-popup`,`${i}-position-${x.value}`],style:{...oe.value,zIndex:Ve.value,pointerEvents:k.value?"none":"auto"},"trigger-placement":x.value,onMouseenter:ae,onMouseleave:ce,onMousedown:Je},l.value),[w(at,{name:e.animationName,duration:e.duration,appear:!0,onBeforeEnter:me,onAfterEnter:Xe,onBeforeLeave:me,onAfterLeave:Ze},{default:()=>{var b;return[st(w("div",{class:`${i}-popup-wrapper`,style:re.value},[w("div",{class:[`${i}-content`,e.contentClass],style:e.contentStyle},[(b=n.content)==null?void 0:b.call(n)]),e.showArrow&&w("div",{ref:We,class:[`${i}-arrow`,e.arrowClass],style:ie.value},null)]),[[ct,h.value]])]}})])]})]})]})])}}});const ln=Object.assign(Z,{install:(e,t)=>{dt(e,t);const n=ht(t);e.component(n+Z.name,Z)}});export{Qt as C,Be as R,ln as T,Xt as a,pe as c,Le as i,$t as r,rn as u};
