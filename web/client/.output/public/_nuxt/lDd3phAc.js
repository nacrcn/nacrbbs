import{C as Z,E as le,a2 as Le,b as k,ax as Al,K as ee,al as yl,H as Te,I as Ee,B as $e,s as ae,o as G,w as re,a as _e,z as Dl,n as q,k as nl,ao as jl,r as $,G as p,m as Re,c as ie,g as de,D as J,T as te,e as Be,U as Y,ay as Nl,a8 as ol,az as Sl,au as Ve,aA as Cl,Q as se,a6 as pe,Z as ve,a5 as ze,a7 as ul,ah as rl,aj as me,ak as _l,R as we,ac as ge,d as ll,t as al,V as Ll,an as Vl,Y as wl,aB as Hl,F as il,v as Kl,aC as Gl,as as $l,ad as Wl,aD as Ul,aE as ql,aF as Yl,ai as Zl,W as Ql}from"./CbujNTzC.js";import{u as Xl,R as Jl,T as vl}from"./Ba22RDed.js";import{E as Bl,o as Ol,p as Il,F as kl,B as ea}from"./DRQ8spOm.js";import{a as Ye,o as fl,I as je,g as la,b as Ne}from"./C4FomA2R.js";import{u as Oe,a as sl}from"./DZyT-3wr.js";import{S as aa,T as ta}from"./BiNgaM9F.js";import{R as na}from"./CWvt8Gu3.js";import{g as oa}from"./7FLWgqLH.js";import{g as ua,K as Fe}from"./CYhUeftq.js";var Ze=Z({name:"Empty",inheritAttrs:!1,props:{description:String,imgSrc:String,inConfigProvider:{type:Boolean,default:!1}},setup(e,{slots:l,attrs:a}){const r=le("empty"),{t:v}=Xl(),o=Le(yl,void 0);return()=>{var i,t,f,m;return!e.inConfigProvider&&o?.slots.empty&&!(l.image||e.imgSrc||e.description)?o.slots.empty({component:"empty"}):k("div",ee({class:r},a),[k("div",{class:`${r}-image`},[(t=(i=l.image)==null?void 0:i.call(l))!=null?t:e.imgSrc?k("img",{src:e.imgSrc,alt:e.description||"empty"},null):k(Al,null,null)]),k("div",{class:`${r}-description`},[(m=(f=l.default)==null?void 0:f.call(l))!=null?m:e.description||v("empty.description")])])}}});const ra=Object.assign(Ze,{install:(e,l)=>{Te(e,l);const a=Ee(l);e.component(a+Ze.name,Ze)}}),ia=Z({name:"Thumb",props:{data:{type:Object},direction:{type:String,default:"horizontal"},alwaysShow:{type:Boolean,default:!1},both:{type:Boolean,default:!1}},emits:["scroll"],setup(e,{emit:l}){const a=le("scrollbar"),r=$(!1),v=$(),o=$(),i=p(()=>e.direction==="horizontal"?{size:"width",direction:"left",offset:"offsetWidth",client:"clientX"}:{size:"height",direction:"top",offset:"offsetHeight",client:"clientY"}),t=$(0),f=$(!1),m=$(0),s=p(()=>{var z,h;return{[i.value.size]:`${(h=(z=e.data)==null?void 0:z.thumbSize)!=null?h:0}px`,[i.value.direction]:`${t.value}px`}}),I=z=>{z.preventDefault(),o.value&&(m.value=z[i.value.client]-o.value.getBoundingClientRect()[i.value.direction],f.value=!0,Ye(window,"mousemove",g),Ye(window,"mouseup",O),Ye(window,"contextmenu",O))},S=z=>{var h,c,V,n;if(z.preventDefault(),o.value){const d=C(z[i.value.client]>o.value.getBoundingClientRect()[i.value.direction]?t.value+((c=(h=e.data)==null?void 0:h.thumbSize)!=null?c:0):t.value-((n=(V=e.data)==null?void 0:V.thumbSize)!=null?n:0));d!==t.value&&(t.value=d,l("scroll",d))}},C=z=>z<0?0:e.data&&z>e.data.max?e.data.max:z,g=z=>{if(v.value&&o.value){const h=C(z[i.value.client]-v.value.getBoundingClientRect()[i.value.direction]-m.value);h!==t.value&&(t.value=h,l("scroll",h))}},O=()=>{f.value=!1,fl(window,"mousemove",g),fl(window,"mouseup",O)},E=z=>{f.value||(z=C(z),z!==t.value&&(t.value=z))},N=p(()=>[`${a}-thumb`,`${a}-thumb-direction-${e.direction}`,{[`${a}-thumb-dragging`]:f.value}]);return{visible:r,trackRef:v,thumbRef:o,prefixCls:a,thumbCls:N,thumbStyle:s,handleThumbMouseDown:I,handleTrackClick:S,setOffset:E}}});function sa(e,l,a,r,v,o){return G(),ae(jl,null,{default:re(()=>[_e("div",{ref:"trackRef",class:q([`${e.prefixCls}-track`,`${e.prefixCls}-track-direction-${e.direction}`]),onMousedown:l[1]||(l[1]=Dl((...i)=>e.handleTrackClick&&e.handleTrackClick(...i),["self"]))},[_e("div",{ref:"thumbRef",class:q(e.thumbCls),style:nl(e.thumbStyle),onMousedown:l[0]||(l[0]=(...i)=>e.handleThumbMouseDown&&e.handleThumbMouseDown(...i))},[_e("div",{class:q(`${e.prefixCls}-thumb-bar`)},null,2)],38)],34)]),_:1})}var ca=$e(ia,[["render",sa]]);const pl=20,Pe=15,da=Z({name:"Scrollbar",components:{ResizeObserver:Jl,Thumb:ca},inheritAttrs:!1,props:{type:{type:String,default:"embed"},outerClass:[String,Object,Array],outerStyle:{type:[String,Object,Array]},hide:{type:Boolean,default:!1},disableHorizontal:{type:Boolean,default:!1},disableVertical:{type:Boolean,default:!1}},emits:{scroll:e=>!0},setup(e,{emit:l}){const a=le("scrollbar"),r=$(),v=$(),o=$(),i=$(),t=$(),f=$(!1),m=$(!1),s=p(()=>f.value&&!e.disableHorizontal),I=p(()=>m.value&&!e.disableVertical),S=$(!1),C=()=>{var c,V,n,d,R,x;if(r.value){const{clientWidth:w,clientHeight:_,offsetWidth:F,offsetHeight:D,scrollWidth:P,scrollHeight:M,scrollTop:j,scrollLeft:L}=r.value;f.value=P>w,m.value=M>_,S.value=s.value&&I.value;const H=e.type==="embed"&&S.value?F-Pe:F,U=e.type==="embed"&&S.value?D-Pe:D,oe=Math.round(H/Math.min(P/w,H/pl)),ne=H-oe,ce=(P-w)/ne,ue=Math.round(U/Math.min(M/_,U/pl)),ye=U-ue,Se=(M-_)/ye;if(v.value={ratio:ce,thumbSize:oe,max:ne},o.value={ratio:Se,thumbSize:ue,max:ye},j>0){const Q=Math.round(j/((V=(c=o.value)==null?void 0:c.ratio)!=null?V:1));(n=t.value)==null||n.setOffset(Q)}if(L>0){const Q=Math.round(L/((R=(d=o.value)==null?void 0:d.ratio)!=null?R:1));(x=i.value)==null||x.setOffset(Q)}}};Be(()=>{C()});const g=()=>{C()},O=c=>{var V,n,d,R,x,w;if(r.value){if(s.value&&!e.disableHorizontal){const _=Math.round(r.value.scrollLeft/((n=(V=v.value)==null?void 0:V.ratio)!=null?n:1));(d=i.value)==null||d.setOffset(_)}if(I.value&&!e.disableVertical){const _=Math.round(r.value.scrollTop/((x=(R=o.value)==null?void 0:R.ratio)!=null?x:1));(w=t.value)==null||w.setOffset(_)}}l("scroll",c)},E=c=>{var V,n;r.value&&r.value.scrollTo({left:c*((n=(V=v.value)==null?void 0:V.ratio)!=null?n:1)})},N=c=>{var V,n;r.value&&r.value.scrollTo({top:c*((n=(V=o.value)==null?void 0:V.ratio)!=null?n:1)})},z=p(()=>{const c={};return e.type==="track"&&(s.value&&(c.paddingBottom=`${Pe}px`),I.value&&(c.paddingRight=`${Pe}px`)),[c,e.outerStyle]}),h=p(()=>[`${a}`,`${a}-type-${e.type}`,{[`${a}-both`]:S.value},e.outerClass]);return{prefixCls:a,cls:h,style:z,containerRef:r,horizontalThumbRef:i,verticalThumbRef:t,horizontalData:v,verticalData:o,isBoth:S,hasHorizontalScrollbar:s,hasVerticalScrollbar:I,handleResize:g,handleScroll:O,handleHorizontalScroll:E,handleVerticalScroll:N}},methods:{scrollTo(e,l){var a,r;te(e)?(a=this.$refs.containerRef)==null||a.scrollTo(e):(e||l)&&((r=this.$refs.containerRef)==null||r.scrollTo(e,l))},scrollTop(e){var l;(l=this.$refs.containerRef)==null||l.scrollTo({top:e})},scrollLeft(e){var l;(l=this.$refs.containerRef)==null||l.scrollTo({left:e})}}});function va(e,l,a,r,v,o){const i=Re("ResizeObserver"),t=Re("thumb");return G(),ie("div",{class:q(e.cls),style:nl(e.style)},[k(i,{onResize:e.handleResize},{default:re(()=>[_e("div",ee({ref:"containerRef",class:`${e.prefixCls}-container`},e.$attrs,{onScroll:l[0]||(l[0]=(...f)=>e.handleScroll&&e.handleScroll(...f))}),[k(i,{onResize:e.handleResize},{default:re(()=>[J(e.$slots,"default")]),_:3},8,["onResize"])],16)]),_:3},8,["onResize"]),!e.hide&&e.hasHorizontalScrollbar?(G(),ae(t,{key:0,ref:"horizontalThumbRef",data:e.horizontalData,direction:"horizontal",both:e.isBoth,onScroll:e.handleHorizontalScroll},null,8,["data","both","onScroll"])):de("v-if",!0),!e.hide&&e.hasVerticalScrollbar?(G(),ae(t,{key:1,ref:"verticalThumbRef",data:e.verticalData,direction:"vertical",both:e.isBoth,onScroll:e.handleVerticalScroll},null,8,["data","both","onScroll"])):de("v-if",!0)],6)}var Qe=$e(da,[["render",va]]);const fa=Object.assign(Qe,{install:(e,l)=>{Te(e,l);const a=Ee(l);e.component(a+Qe.name,Qe)}}),pa=e=>{const l=$(),a=()=>Nl(l.value)?l.value.$refs[e]:l.value,r=$();return Be(()=>{r.value=a()}),Y([l],()=>{r.value=a()}),{componentRef:l,elementRef:r}},ma=e=>{const l=p(()=>!!e.value),a=p(()=>{if(e.value)return{type:"embed",...ol(e.value)?void 0:e.value}});return{displayScrollbar:l,scrollbarProps:a}},ha=Z({name:"SelectDropdown",components:{ScrollbarComponent:fa,Empty:ra,Spin:aa},props:{loading:Boolean,empty:Boolean,virtualList:Boolean,bottomOffset:{type:Number,default:0},scrollbar:{type:[Boolean,Object],default:!0},onScroll:{type:[Function,Array]},onReachBottom:{type:[Function,Array]},showHeaderOnEmpty:{type:Boolean,default:!1},showFooterOnEmpty:{type:Boolean,default:!1}},emits:["scroll","reachBottom"],setup(e,{emit:l,slots:a}){var r,v,o;const{scrollbar:i}=se(e),t=le("select-dropdown"),f=Le(yl,void 0),m=(o=(v=f==null?void 0:(r=f.slots).empty)==null?void 0:v.call(r,{component:"select"}))==null?void 0:o[0],{componentRef:s,elementRef:I}=pa("containerRef"),{displayScrollbar:S,scrollbarProps:C}=ma(i),g=E=>{const{scrollTop:N,scrollHeight:z,offsetHeight:h}=E.target;z-(N+h)<=e.bottomOffset&&l("reachBottom",E),l("scroll",E)},O=p(()=>[t,{[`${t}-has-header`]:!!a.header,[`${t}-has-footer`]:!!a.footer}]);return{prefixCls:t,SelectEmpty:m,cls:O,wrapperRef:I,wrapperComRef:s,handleScroll:g,displayScrollbar:S,scrollbarProps:C}}});function ba(e,l,a,r,v,o){const i=Re("spin");return G(),ie("div",{class:q(e.cls)},[e.$slots.header&&(!e.empty||e.showHeaderOnEmpty)?(G(),ie("div",{key:0,class:q(`${e.prefixCls}-header`)},[J(e.$slots,"header")],2)):de("v-if",!0),e.loading?(G(),ae(i,{key:1,class:q(`${e.prefixCls}-loading`)},null,8,["class"])):e.empty?(G(),ie("div",{key:2,class:q(`${e.prefixCls}-empty`)},[J(e.$slots,"empty",{},()=>[(G(),ae(Ve(e.SelectEmpty?e.SelectEmpty:"Empty")))])],2)):de("v-if",!0),e.virtualList&&!e.loading&&!e.empty?J(e.$slots,"virtual-list",{key:3}):de("v-if",!0),e.virtualList?de("v-if",!0):Sl((G(),ae(Ve(e.displayScrollbar?"ScrollbarComponent":"div"),ee({key:4,ref:"wrapperComRef",class:`${e.prefixCls}-list-wrapper`},e.scrollbarProps,{onScroll:e.handleScroll}),{default:re(()=>[_e("ul",{class:q(`${e.prefixCls}-list`)},[J(e.$slots,"default")],2)]),_:3},16,["class","onScroll"])),[[Cl,!e.loading&&!e.empty]]),e.$slots.footer&&(!e.empty||e.showFooterOnEmpty)?(G(),ie("div",{key:5,class:q(`${e.prefixCls}-footer`)},[J(e.$slots,"footer")],2)):de("v-if",!0)],2)}var ga=$e(ha,[["render",ba]]),ml=Z({name:"IconCheck",render(){return k("svg",{"aria-hidden":"true",focusable:"false",viewBox:"0 0 1024 1024",width:"200",height:"200",fill:"currentColor"},[k("path",{d:"M877.44815445 206.10060629a64.72691371 64.72691371 0 0 0-95.14856334 4.01306852L380.73381888 685.46812814 235.22771741 533.48933518a64.72691371 64.72691371 0 0 0-92.43003222-1.03563036l-45.82665557 45.82665443a64.72691371 64.72691371 0 0 0-0.90617629 90.61767965l239.61903446 250.10479331a64.72691371 64.72691371 0 0 0 71.19960405 15.14609778 64.33855261 64.33855261 0 0 0 35.08198741-21.23042702l36.24707186-42.71976334 40.5190474-40.77795556-3.36579926-3.49525333 411.40426297-486.74638962a64.72691371 64.72691371 0 0 0-3.88361443-87.64024149l-45.3088404-45.43829334z","p-id":"840"},null)])}});const zl=Symbol("ArcoCheckboxGroup");var Me=Z({name:"Checkbox",components:{IconCheck:ml,IconHover:je},props:{modelValue:{type:[Boolean,Array],default:void 0},defaultChecked:{type:Boolean,default:!1},value:{type:[String,Number,Boolean]},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},uninjectGroupContext:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,change:(e,l)=>!0},setup(e,{emit:l,slots:a}){const{disabled:r,modelValue:v}=se(e),o=le("checkbox"),i=$(),t=e.uninjectGroupContext?void 0:Le(zl,void 0),f=t?.name==="ArcoCheckboxGroup",{mergedDisabled:m,eventHandlers:s}=Oe({disabled:r}),I=$(e.defaultChecked),S=p(()=>{var c;return f?t?.computedValue:(c=e.modelValue)!=null?c:I.value}),C=p(()=>{var c;return pe(S.value)?S.value.includes((c=e.value)!=null?c:!0):S.value}),g=p(()=>t?.disabled||m?.value||!C.value&&t?.isMaxed),O=c=>{c.stopPropagation()},E=c=>{var V,n,d,R;const{checked:x}=c.target;let w=x;if(pe(S.value)){const _=new Set(S.value);x?_.add((V=e.value)!=null?V:!0):_.delete((n=e.value)!=null?n:!0),w=Array.from(_)}I.value=x,f&&pe(w)?t?.handleChange(w,c):(l("update:modelValue",w),l("change",w,c),(R=(d=s.value)==null?void 0:d.onChange)==null||R.call(d,c)),ve(()=>{i.value&&i.value.checked!==C.value&&(i.value.checked=C.value)})},N=p(()=>[o,{[`${o}-checked`]:C.value,[`${o}-indeterminate`]:e.indeterminate,[`${o}-disabled`]:g.value}]),z=c=>{var V,n;(n=(V=s.value)==null?void 0:V.onFocus)==null||n.call(V,c)},h=c=>{var V,n;(n=(V=s.value)==null?void 0:V.onBlur)==null||n.call(V,c)};return Y(v,c=>{(ze(c)||ul(c))&&(I.value=!1)}),Y(S,c=>{var V;let n;pe(c)?n=c.includes((V=e.value)!=null?V:!0):n=c,I.value!==n&&(I.value=n),i.value&&i.value.checked!==n&&(i.value.checked=n)}),()=>{var c,V,n,d;return k("label",{"aria-disabled":g.value,class:N.value},[k("input",{ref:i,type:"checkbox",checked:C.value,value:e.value,class:`${o}-target`,disabled:g.value,onClick:O,onChange:E,onFocus:z,onBlur:h},null),(d=(n=(V=a.checkbox)!=null?V:(c=t?.slots)==null?void 0:c.checkbox)==null?void 0:n({checked:C.value,disabled:g.value}))!=null?d:k(je,{class:`${o}-icon-hover`,disabled:g.value||C.value},{default:()=>[k("div",{class:`${o}-icon`},[C.value&&k(ml,{class:`${o}-icon-check`},null)])]}),a.default&&k("span",{class:`${o}-label`},[a.default()])])}}}),Xe=Z({name:"CheckboxGroup",props:{modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:()=>[]},max:{type:Number},options:{type:Array},direction:{type:String,default:"horizontal"},disabled:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,change:(e,l)=>!0},setup(e,{emit:l,slots:a}){const{disabled:r}=se(e),v=le("checkbox-group"),{mergedDisabled:o,eventHandlers:i}=Oe({disabled:r}),t=$(e.defaultValue),f=p(()=>pe(e.modelValue)?e.modelValue:t.value),m=p(()=>e.max===void 0?!1:f.value.length>=e.max),s=p(()=>{var g;return((g=e.options)!=null?g:[]).map(O=>rl(O)||me(O)?{label:O,value:O}:O)});_l(zl,we({name:"ArcoCheckboxGroup",computedValue:f,disabled:o,isMaxed:m,slots:a,handleChange:(g,O)=>{var E,N;t.value=g,l("update:modelValue",g),l("change",g,O),(N=(E=i.value)==null?void 0:E.onChange)==null||N.call(E,O)}}));const S=p(()=>[v,`${v}-direction-${e.direction}`]);Y(()=>e.modelValue,g=>{pe(g)?t.value=[...g]:t.value=[]});const C=()=>s.value.map(g=>{const O=f.value.includes(g.value);return k(Me,{key:g.value,value:g.value,disabled:g.disabled||!O&&m.value,indeterminate:g.indeterminate,modelValue:O},{default:()=>[a.label?a.label({data:g}):ge(g.label)?g.label():g.label]})});return()=>{var g;return k("span",{class:S.value},[s.value.length>0?C():(g=a.default)==null?void 0:g.call(a)])}}});const ya=Object.assign(Me,{Group:Xe,install:(e,l)=>{Te(e,l);const a=Ee(l);e.component(a+Me.name,Me),e.component(a+Xe.name,Xe)}}),Rl=Symbol("ArcoSelectContext"),Sa=e=>te(e)&&"isGroup"in e,xl=e=>te(e)&&"isGroup"in e,Ca=(e,l="value")=>String(te(e)?e[l]:e),xe=(e,l="value")=>te(e)?`__arco__option__object__${e[l]}`:e||me(e)||rl(e)||ol(e)?`__arco__option__${typeof e}-${e}`:"",_a=e=>e.has("__arco__option__string-"),Va=(e,{valueKey:l,fieldNames:a,origin:r,index:v=-1})=>{var o;if(te(e)){const t=e[a.value];return{raw:e,index:v,key:xe(t,l),origin:r,value:t,label:(o=e[a.label])!=null?o:Ca(t,l),render:e[a.render],disabled:!!e[a.disabled],tagProps:e[a.tagProps]}}const i={value:e,label:String(e),disabled:!1};return{raw:i,index:v,key:xe(e,l),origin:r,...i}},tl=(e,{valueKey:l,fieldNames:a,origin:r,optionInfoMap:v})=>{var o;const i=[];for(const t of e)if(Sa(t)){const f=tl((o=t.options)!=null?o:[],{valueKey:l,fieldNames:a,origin:r,optionInfoMap:v});f.length>0&&i.push({...t,key:`__arco__group__${t.label}`,options:f})}else{const f=Va(t,{valueKey:l,fieldNames:a,origin:r});i.push(f),v.get(f.key)||v.set(f.key,f)}return i},hl=(e,{inputValue:l,filterOption:a})=>{const r=v=>{var o;const i=[];for(const t of v)if(xl(t)){const f=r((o=t.options)!=null?o:[]);f.length>0&&i.push({...t,options:f})}else He(t,{inputValue:l,filterOption:a})&&i.push(t);return i};return r(e)},He=(e,{inputValue:l,filterOption:a})=>ge(a)?!l||a(l,e.raw):a?e.label.toLowerCase().includes((l??"").toLowerCase()):!0,wa=(e,l)=>{if(!e||!l||e.length!==l.length)return!1;for(const a of Object.keys(e))if(!cl(e[a],l[a]))return!1;return!0},$a=(e,l)=>{if(!e||!l)return!1;const{length:a}=e;if(a!==l.length)return!1;for(let r=0;r<a;r++)if(!cl(e[r],l[r]))return!1;return!0},cl=(e,l)=>{const a=Object.prototype.toString.call(e);return a!==Object.prototype.toString.call(l)?!1:a==="[object Object]"?wa(e,l):a==="[object Array]"?$a(e,l):a==="[object Function]"?e===l?!0:e.toString()===l.toString():e===l},Ba=Z({name:"Option",components:{Checkbox:ya},props:{value:{type:[String,Number,Boolean,Object],default:void 0},label:String,disabled:Boolean,tagProps:{type:Object},extra:{type:Object},index:{type:Number},internal:Boolean},setup(e){const{disabled:l,tagProps:a,index:r}=se(e),v=le("select-option"),o=Le(Rl,void 0),i=Vl(),t=$(),f=$(a.value);Y(a,(n,d)=>{cl(n,d)||(f.value=n)});const m=$(""),s=p(()=>{var n,d;return(d=(n=e.value)!=null?n:e.label)!=null?d:m.value}),I=p(()=>{var n;return(n=e.label)!=null?n:m.value}),S=p(()=>xe(s.value,o?.valueKey)),C=p(()=>{var n;return(n=o?.component)!=null?n:"li"}),g=()=>{var n;if(!e.label&&t.value){const d=(n=t.value.textContent)!=null?n:"";m.value!==d&&(m.value=d)}};Be(()=>g()),Ll(()=>g());const O=p(()=>{var n;return(n=o?.valueKeys.includes(S.value))!=null?n:!1}),E=p(()=>o?.activeKey===S.value);let N=$(!0);if(!e.internal){const n=we({raw:{value:s,label:I,disabled:l,tagProps:f},ref:t,index:r,key:S,origin:"slot",value:s,label:I,disabled:l,tagProps:f});N=p(()=>He(n,{inputValue:o?.inputValue,filterOption:o?.filterOption})),i&&o?.addSlotOptionInfo(i.uid,n),wl(()=>{i&&o?.removeSlotOptionInfo(i.uid)})}const z=n=>{e.disabled||o?.onSelect(S.value,n)},h=()=>{e.disabled||o?.setActiveKey(S.value)},c=()=>{e.disabled||o?.setActiveKey()},V=p(()=>[v,{[`${v}-disabled`]:e.disabled,[`${v}-selected`]:O.value,[`${v}-active`]:E.value,[`${v}-multiple`]:o?.multiple}]);return{prefixCls:v,cls:V,selectCtx:o,itemRef:t,component:C,isSelected:O,isValid:N,handleClick:z,handleMouseEnter:h,handleMouseLeave:c}}});function Oa(e,l,a,r,v,o){const i=Re("checkbox");return Sl((G(),ae(Ve(e.component),{ref:"itemRef",class:q([e.cls,{[`${e.prefixCls}-has-suffix`]:!!e.$slots.suffix}]),onClick:e.handleClick,onMouseenter:e.handleMouseEnter,onMouseleave:e.handleMouseLeave},{default:re(()=>[e.$slots.icon?(G(),ie("span",{key:0,class:q(`${e.prefixCls}-icon`)},[J(e.$slots,"icon")],2)):de("v-if",!0),e.selectCtx&&e.selectCtx.multiple?(G(),ae(i,{key:1,class:q(`${e.prefixCls}-checkbox`),"model-value":e.isSelected,disabled:e.disabled,"uninject-group-context":""},{default:re(()=>[J(e.$slots,"default",{},()=>[ll(al(e.label),1)])]),_:3},8,["class","model-value","disabled"])):(G(),ie("span",{key:2,class:q(`${e.prefixCls}-content`)},[J(e.$slots,"default",{},()=>[ll(al(e.label),1)])],2)),e.$slots.suffix?(G(),ie("span",{key:3,class:q(`${e.prefixCls}-suffix`)},[J(e.$slots,"suffix")],2)):de("v-if",!0)]),_:3},40,["class","onClick","onMouseenter","onMouseleave"])),[[Cl,e.isValid]])}var Ae=$e(Ba,[["render",Oa]]);const Ia={value:"value",label:"label",disabled:"disabled",tagProps:"tagProps",render:"render"},ka=({options:e,extraOptions:l,inputValue:a,filterOption:r,showExtraOptions:v,valueKey:o,fieldNames:i})=>{const t=p(()=>({...Ia,...i?.value})),f=we(new Map),m=p(()=>Array.from(f.values()).sort((h,c)=>me(h.index)&&me(c.index)?h.index-c.index:0)),s=p(()=>{var h,c;const V=new Map;return{optionInfos:tl((h=e?.value)!=null?h:[],{valueKey:(c=o?.value)!=null?c:"value",fieldNames:t.value,origin:"options",optionInfoMap:V}),optionInfoMap:V}}),I=p(()=>{var h,c;const V=new Map;return{optionInfos:tl((h=l?.value)!=null?h:[],{valueKey:(c=o?.value)!=null?c:"value",fieldNames:t.value,origin:"extraOptions",optionInfoMap:V}),optionInfoMap:V}}),S=we(new Map);Y([m,e??$([]),l??$([]),o??$("value")],()=>{S.clear(),m.value.forEach((h,c)=>{S.set(h.key,{...h,index:c})}),s.value.optionInfoMap.forEach(h=>{S.has(h.key)||(h.index=S.size,S.set(h.key,h))}),I.value.optionInfoMap.forEach(h=>{S.has(h.key)||(h.index=S.size,S.set(h.key,h))})},{immediate:!0,deep:!0});const C=p(()=>{var h;const c=hl(s.value.optionInfos,{inputValue:a?.value,filterOption:r?.value});return((h=v?.value)==null||h)&&c.push(...hl(I.value.optionInfos,{inputValue:a?.value,filterOption:r?.value})),c}),g=p(()=>Array.from(S.values()).filter(h=>h.origin==="extraOptions"&&v?.value===!1?!1:He(h,{inputValue:a?.value,filterOption:r?.value}))),O=p(()=>g.value.filter(h=>!h.disabled).map(h=>h.key));return{validOptions:C,optionInfoMap:S,validOptionInfos:g,enabledOptionKeys:O,getNextSlotOptionIndex:()=>f.size,addSlotOptionInfo:(h,c)=>{f.set(h,c)},removeSlotOptionInfo:h=>{f.delete(h)}}},za=({multiple:e,options:l,extraOptions:a,inputValue:r,filterOption:v,showExtraOptions:o,component:i,valueKey:t,fieldNames:f,loading:m,popupVisible:s,valueKeys:I,dropdownRef:S,optionRefs:C,virtualListRef:g,onSelect:O,onPopupVisibleChange:E,enterToOpen:N=!0,defaultActiveFirstOption:z})=>{const{validOptions:h,optionInfoMap:c,validOptionInfos:V,enabledOptionKeys:n,getNextSlotOptionIndex:d,addSlotOptionInfo:R,removeSlotOptionInfo:x}=ka({options:l,extraOptions:a,inputValue:r,filterOption:v,showExtraOptions:o,valueKey:t,fieldNames:f}),w=$();Y(n,M=>{(!w.value||!M.includes(w.value))&&(w.value=M[0])});const _=M=>{w.value=M},F=M=>{const j=n.value.length;if(j===0)return;if(!w.value)return M==="down"?n.value[0]:n.value[j-1];const L=n.value.indexOf(w.value),H=(j+L+(M==="up"?-1:1))%j;return n.value[H]},D=M=>{var j,L;g?.value&&g.value.scrollTo({key:M});const H=c.get(M),U=(j=S?.value)==null?void 0:j.wrapperRef,oe=(L=C?.value[M])!=null?L:H?.ref;if(!U||!oe||U.scrollHeight===U.offsetHeight)return;const ne=la(oe,U),ce=U.scrollTop;ne.top<0?U.scrollTo(0,ce+ne.top):ne.bottom<0&&U.scrollTo(0,ce-ne.bottom)};Y(s,M=>{var j;if(M){const L=I.value[I.value.length-1];let H=(j=z?.value)==null||j?n.value[0]:void 0;n.value.includes(L)&&(H=L),H!==w.value&&(w.value=H),ve(()=>{w.value&&D(w.value)})}});const P=ua(new Map([[Fe.ENTER,M=>{!m?.value&&!M.isComposing&&(s.value?w.value&&(O(w.value,M),M.preventDefault()):N&&(E(!0),M.preventDefault()))}],[Fe.ESC,M=>{s.value&&(E(!1),M.preventDefault())}],[Fe.ARROW_DOWN,M=>{if(s.value){const j=F("down");j&&(w.value=j,D(j)),M.preventDefault()}}],[Fe.ARROW_UP,M=>{if(s.value){const j=F("up");j&&(w.value=j,D(j)),M.preventDefault()}}]]));return _l(Rl,we({multiple:e,valueKey:t,inputValue:r,filterOption:v,component:i,valueKeys:I,activeKey:w,setActiveKey:_,onSelect:O,getNextSlotOptionIndex:d,addSlotOptionInfo:R,removeSlotOptionInfo:x})),{validOptions:h,optionInfoMap:c,validOptionInfos:V,enabledOptionKeys:n,activeKey:w,setActiveKey:_,addSlotOptionInfo:R,removeSlotOptionInfo:x,getNextActiveKey:F,scrollIntoView:D,handleKeyDown:P}},Ra=({dataKeys:e,contentRef:l,fixedSize:a,estimatedSize:r,buffer:v})=>{const o=$(0),i=new Map,t=p(()=>e.value.length),f=$(0),m=p(()=>{const d=f.value+v.value*3;return d>t.value?t.value:d}),s=p(()=>{const d=t.value-v.value*3;return d<0?0:d}),I=d=>{d<0?f.value=0:d>s.value?f.value=s.value:f.value=d},S=$(a.value),C=p(()=>r.value!==30?r.value:o.value||r.value),g=(d,R)=>{i.set(d,R)},O=d=>{var R;if(S.value)return C.value;const x=e.value[d];return(R=i.get(x))!=null?R:C.value},E=d=>i.has(d);Be(()=>{const d=Array.from(i.values()).reduce((R,x)=>R+x,0);d>0&&(o.value=d/i.size)});const N=d=>S.value?C.value*d:z(0,d),z=(d,R)=>{let x=0;for(let w=d;w<R;w++)x+=O(w);return x},h=p(()=>S.value?C.value*f.value:z(0,f.value)),c=d=>{const R=d>=h.value;let x=Math.abs(d-h.value);const w=R?f.value:f.value-1;let _=0;for(;x>0;)x-=O(w+_),R?_++:_--;return _},V=d=>{const R=c(d),x=f.value+R-v.value;return x<0?0:x>s.value?s.value:x},n=p(()=>S.value?C.value*(t.value-m.value):z(m.value,t.value));return{frontPadding:h,behindPadding:n,start:f,end:m,getStartByScroll:V,setItemSize:g,hasItemSize:E,setStart:I,getScrollOffset:N}};var xa=Z({name:"VirtualListItem",props:{hasItemSize:{type:Function,required:!0},setItemSize:{type:Function,required:!0}},setup(e,{slots:l}){var a;const r=(a=Vl())==null?void 0:a.vnode.key,v=$(),o=()=>{var i,t,f,m;const s=(t=(i=v.value)==null?void 0:i.$el)!=null?t:v.value,I=(m=(f=s?.getBoundingClientRect)==null?void 0:f.call(s).height)!=null?m:s?.offsetHeight;I&&e.setItemSize(r,I)};return Be(()=>o()),wl(()=>o()),()=>{var i;const t=oa((i=l.default)==null?void 0:i.call(l));return t?Hl(t,{ref:v},!0):null}}});const Ta=Z({name:"VirtualList",components:{VirtualListItem:xa},props:{height:{type:[Number,String],default:200},data:{type:Array,default:()=>[]},threshold:{type:Number,default:0},itemKey:{type:String,default:"key"},fixedSize:{type:Boolean,default:!1},estimatedSize:{type:Number,default:30},buffer:{type:Number,default:10},component:{type:[String,Object],default:"div"},listAttrs:{type:Object},contentAttrs:{type:Object},paddingPosition:{type:String,default:"content"}},emits:{scroll:e=>!0,reachBottom:e=>!0},setup(e,{emit:l}){const{data:a,itemKey:r,fixedSize:v,estimatedSize:o,buffer:i,height:t}=se(e),f=le("virtual-list"),m=p(()=>te(e.component)?{container:"div",list:"div",content:"div",...e.component}:{container:e.component,list:"div",content:"div"}),s=$(),I=$(),S=p(()=>({height:me(t.value)?`${t.value}px`:t.value,overflow:"auto"})),C=p(()=>a.value.map((w,_)=>{var F;return(F=w[r.value])!=null?F:_})),{frontPadding:g,behindPadding:O,start:E,end:N,getStartByScroll:z,setItemSize:h,hasItemSize:c,setStart:V,getScrollOffset:n}=Ra({dataKeys:C,contentRef:I,fixedSize:v,estimatedSize:o,buffer:i}),d=p(()=>e.threshold&&a.value.length<=e.threshold?a.value:a.value.slice(E.value,N.value)),R=w=>{const{scrollTop:_,scrollHeight:F,offsetHeight:D}=w.target,P=z(_);P!==E.value&&(V(P),ve(()=>{x(_)})),l("scroll",w),Math.floor(F-(_+D))<=0&&l("reachBottom",w)},x=w=>{var _,F;if(s.value)if(me(w))s.value.scrollTop=w;else{const D=(F=w.index)!=null?F:C.value.indexOf((_=w.key)!=null?_:"");V(D-i.value),s.value.scrollTop=n(D),ve(()=>{if(s.value){const P=n(D);P!==s.value.scrollTop&&(s.value.scrollTop=P)}})}};return{prefixCls:f,containerRef:s,contentRef:I,frontPadding:g,currentList:d,behindPadding:O,onScroll:R,setItemSize:h,hasItemSize:c,start:E,scrollTo:x,style:S,mergedComponent:m}}});function Ea(e,l,a,r,v,o){const i=Re("VirtualListItem");return G(),ae(Ve(e.mergedComponent.container),{ref:"containerRef",class:q(e.prefixCls),style:nl(e.style),onScroll:e.onScroll},{default:re(()=>[(G(),ae(Ve(e.mergedComponent.list),ee(e.listAttrs,{style:e.paddingPosition==="list"?{paddingTop:`${e.frontPadding}px`,paddingBottom:`${e.behindPadding}px`}:{}}),{default:re(()=>[(G(),ae(Ve(e.mergedComponent.content),ee({ref:"contentRef"},e.contentAttrs,{style:e.paddingPosition==="content"?{paddingTop:`${e.frontPadding}px`,paddingBottom:`${e.behindPadding}px`}:{}}),{default:re(()=>[(G(!0),ie(il,null,Kl(e.currentList,(t,f)=>{var m;return G(),ae(i,{key:(m=t[e.itemKey])!=null?m:e.start+f,"has-item-size":e.hasItemSize,"set-item-size":e.setItemSize},{default:re(()=>[J(e.$slots,"item",{item:t,index:e.start+f})]),_:2},1032,["has-item-size","set-item-size"])}),128))]),_:3},16,["style"]))]),_:3},16,["style"]))]),_:3},40,["class","style","onScroll"])}var Fa=$e(Ta,[["render",Ea]]);const Pa=({popupVisible:e,defaultPopupVisible:l,emit:a})=>{var r;const v=$((r=l?.value)!=null?r:!1),o=p(()=>{var t;return(t=e?.value)!=null?t:v.value}),i=t=>{t!==o.value&&(v.value=t,a("update:popupVisible",t),a("popupVisibleChange",t))};return Y(o,t=>{v.value!==t&&(v.value=t)}),{computedPopupVisible:o,handlePopupVisibleChange:i}},Ma=({defaultValue:e,modelValue:l,emit:a,eventName:r="input",updateEventName:v="update:modelValue",eventHandlers:o})=>{var i;const t=$(),f=$((i=e?.value)!=null?i:""),m=$(!1),s=$(!1),I=$("");let S;const C=p(()=>{var n;return(n=l?.value)!=null?n:f.value}),g=(n,d)=>{f.value=n,a(v,n),a(r,n,d)},O=n=>{const{value:d}=n.target;s.value||(g(d,n),ve(()=>{t.value&&C.value!==t.value.value&&(t.value.value=C.value)}))},E=n=>{r==="input"&&C.value!==S&&(S=C.value,a("change",C.value,n))},N=n=>{var d;const{value:R}=n.target;n.type==="compositionend"?(s.value=!1,I.value="",g(R,n),ve(()=>{t.value&&C.value!==t.value.value&&(t.value.value=C.value)})):(s.value=!0,I.value=C.value+((d=n.data)!=null?d:""))},z=n=>{var d,R;m.value=!0,S=C.value,a("focus",n),(R=(d=o?.value)==null?void 0:d.onFocus)==null||R.call(d,n)},h=n=>{var d,R;m.value=!1,a("blur",n),(R=(d=o?.value)==null?void 0:d.onBlur)==null||R.call(d,n),E(n)},c=n=>{const d=n.key||n.code;!s.value&&d===Bl.key&&(a("pressEnter",n),E(n))},V=n=>{t.value&&n.target!==t.value&&(n.preventDefault(),t.value.focus())};return Y(C,n=>{t.value&&n!==t.value.value&&(t.value.value=n)}),{inputRef:t,_value:f,_focused:m,isComposition:s,compositionValue:I,computedValue:C,handleInput:O,handleComposition:N,handleFocus:z,handleBlur:h,handleKeyDown:c,handleMousedown:V}};var Aa=Z({name:"InputLabel",inheritAttrs:!1,props:{modelValue:Object,inputValue:{type:String,default:""},enabledInput:Boolean,formatLabel:Function,placeholder:String,retainInputValue:Boolean,disabled:Boolean,baseCls:String,size:String,error:Boolean,focused:Boolean,uninjectFormItemContext:Boolean},emits:["update:inputValue","inputValueChange","focus","blur"],setup(e,{attrs:l,emit:a,slots:r}){var v;const{size:o,disabled:i,error:t,inputValue:f,uninjectFormItemContext:m}=se(e),s=(v=e.baseCls)!=null?v:le("input-label"),{mergedSize:I,mergedDisabled:S,mergedError:C,eventHandlers:g}=Oe({size:o,disabled:i,error:t,uninject:m?.value}),{mergedSize:O}=sl(I),{inputRef:E,_focused:N,computedValue:z,handleInput:h,handleComposition:c,handleFocus:V,handleBlur:n,handleMousedown:d}=Ma({modelValue:f,emit:a,eventName:"inputValueChange",updateEventName:"update:inputValue",eventHandlers:g}),R=p(()=>{var L;return(L=e.focused)!=null?L:N.value}),x=p(()=>e.enabledInput&&N.value||!e.modelValue),w=()=>{var L,H;return e.modelValue?(H=(L=e.formatLabel)==null?void 0:L.call(e,e.modelValue))!=null?H:e.modelValue.label:""},_=p(()=>e.enabledInput&&e.modelValue?w():e.placeholder),F=()=>{var L,H;return e.modelValue?(H=(L=r.default)==null?void 0:L.call(r,{data:e.modelValue}))!=null?H:w():null},D=p(()=>[s,`${s}-size-${O.value}`,{[`${s}-search`]:e.enabledInput,[`${s}-focus`]:R.value,[`${s}-disabled`]:S.value,[`${s}-error`]:C.value}]),P=p(()=>Ol(l,Ne)),M=p(()=>Il(l,Ne));return{inputRef:E,render:()=>k("span",ee(P.value,{class:D.value,title:w(),onMousedown:d}),[r.prefix&&k("span",{class:`${s}-prefix`},[r.prefix()]),k("input",ee(M.value,{ref:E,class:[`${s}-input`,{[`${s}-input-hidden`]:!x.value}],value:z.value,readonly:!e.enabledInput,placeholder:_.value,disabled:S.value,onInput:h,onFocus:V,onBlur:n,onCompositionstart:c,onCompositionupdate:c,onCompositionend:c}),null),k("span",{class:[`${s}-value`,{[`${s}-value-hidden`]:x.value}]},[F()]),r.suffix&&k("span",{class:`${s}-suffix`},[r.suffix()])])}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const Da=(e,l)=>{const a=[];for(const r of e)if(te(r))a.push({raw:r,value:r[l.value],label:r[l.label],closable:r[l.closable],tagProps:r[l.tagProps]});else if(e||me(e)){const v={value:r,label:String(r),closable:!0};a.push({raw:v,...v})}return a},ja={value:"value",label:"label",closable:"closable",tagProps:"tagProps"};var Je=Z({name:"InputTag",inheritAttrs:!1,props:{modelValue:{type:Array},defaultValue:{type:Array,default:()=>[]},inputValue:String,defaultInputValue:{type:String,default:""},placeholder:String,disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},size:{type:String},maxTagCount:{type:Number,default:0},retainInputValue:{type:[Boolean,Object],default:!1},formatTag:{type:Function},uniqueValue:{type:Boolean,default:!1},fieldNames:{type:Object},tagNowrap:{type:Boolean,default:!1},baseCls:String,focused:Boolean,disabledInput:Boolean,uninjectFormItemContext:Boolean},emits:{"update:modelValue":e=>!0,"update:inputValue":e=>!0,change:(e,l)=>!0,inputValueChange:(e,l)=>!0,pressEnter:(e,l)=>!0,remove:(e,l)=>!0,clear:e=>!0,focus:e=>!0,blur:e=>!0},setup(e,{emit:l,slots:a,attrs:r}){const{size:v,disabled:o,error:i,uninjectFormItemContext:t,modelValue:f}=se(e),m=e.baseCls||le("input-tag"),s=$(),I=$(),{mergedSize:S,mergedDisabled:C,mergedError:g,feedback:O,eventHandlers:E}=Oe({size:v,disabled:o,error:i,uninject:t?.value}),{mergedSize:N}=sl(S),z=p(()=>({...ja,...e.fieldNames})),h=$(!1),c=$(e.defaultValue),V=$(e.defaultInputValue),n=$(!1),d=$(""),R=p(()=>te(e.retainInputValue)?{create:!1,blur:!1,...e.retainInputValue}:{create:e.retainInputValue,blur:e.retainInputValue}),x=we({width:"12px"}),w=p(()=>e.focused||h.value),_=(b,T)=>{V.value=b,l("update:inputValue",b),l("inputValueChange",b,T)},F=b=>{var T;const{value:K}=b.target;b.type==="compositionend"?(n.value=!1,d.value="",_(K,b),ve(()=>{s.value&&P.value!==s.value.value&&(s.value.value=P.value)})):(n.value=!0,d.value=P.value+((T=b.data)!=null?T:""))},D=p(()=>{var b;return(b=e.modelValue)!=null?b:c.value}),P=p(()=>{var b;return(b=e.inputValue)!=null?b:V.value});Y(f,b=>{(ze(b)||ul(b))&&(c.value=[])});const M=b=>{s.value&&b.target!==s.value&&(b.preventDefault(),s.value.focus())},j=b=>{const{value:T}=b.target;n.value||(_(T,b),ve(()=>{s.value&&P.value!==s.value.value&&(s.value.value=P.value)}))},L=p(()=>Da(D.value,z.value)),H=p(()=>{if(e.maxTagCount>0){const b=L.value.length-e.maxTagCount;if(b>0){const T=L.value.slice(0,e.maxTagCount),K={value:"__arco__more",label:`+${b}...`,closable:!1};return T.push({raw:K,...K}),T}}return L.value}),U=(b,T)=>{var K,X;c.value=b,l("update:modelValue",b),l("change",b,T),(X=(K=E.value)==null?void 0:K.onChange)==null||X.call(K,T)},oe=(b,T,K)=>{var X;const W=(X=D.value)==null?void 0:X.filter((Ie,Ce)=>Ce!==T);U(W,K),l("remove",b,K)},ne=b=>{U([],b),l("clear",b)},ce=p(()=>!C.value&&!e.readonly&&e.allowClear&&!!D.value.length),ue=b=>{var T;if(P.value){if(b.preventDefault(),e.uniqueValue&&((T=D.value)!=null&&T.includes(P.value))){l("pressEnter",P.value,b);return}const K=D.value.concat(P.value);U(K,b),l("pressEnter",P.value,b),R.value.create||_("",b)}},ye=b=>{var T,K;h.value=!0,l("focus",b),(K=(T=E.value)==null?void 0:T.onFocus)==null||K.call(T,b)},Se=b=>{var T,K;h.value=!1,!R.value.blur&&P.value&&_("",b),l("blur",b),(K=(T=E.value)==null?void 0:T.onBlur)==null||K.call(T,b)},Q=()=>{for(let b=L.value.length-1;b>=0;b--)if(L.value[b].closable)return b;return-1},Ke=b=>{if(C.value||e.readonly)return;const T=b.key||b.code;if(!n.value&&P.value&&T===Bl.key&&ue(b),!n.value&&H.value.length>0&&!P.value&&T===ea.key){const K=Q();K>=0&&oe(L.value[K].value,K,b)}},fe=b=>{b>12?x.width=`${b}px`:x.width="12px"};Be(()=>{I.value&&fe(I.value.offsetWidth)});const he=()=>{I.value&&fe(I.value.offsetWidth)};Y(P,b=>{s.value&&!n.value&&b!==s.value.value&&(s.value.value=b)});const Ge=p(()=>[m,`${m}-size-${N.value}`,{[`${m}-disabled`]:C.value,[`${m}-disabled-input`]:e.disabledInput,[`${m}-error`]:g.value,[`${m}-focus`]:w.value,[`${m}-readonly`]:e.readonly,[`${m}-has-tag`]:H.value.length>0,[`${m}-has-prefix`]:!!a.prefix,[`${m}-has-suffix`]:!!a.suffix||ce.value||O.value,[`${m}-has-placeholder`]:!D.value.length}]),We=p(()=>Ol(r,Ne)),Ue=p(()=>Il(r,Ne));return{inputRef:s,render:()=>{var b;return k("span",ee({class:Ge.value,onMousedown:M},We.value),[k(na,{onResize:he},{default:()=>[k("span",{ref:I,class:`${m}-mirror`},[H.value.length>0?d.value||P.value:d.value||P.value||e.placeholder])]}),a.prefix&&k("span",{class:`${m}-prefix`},[a.prefix()]),k(Gl,{tag:"span",name:"input-tag-zoom",class:[`${m}-inner`,{[`${m}-nowrap`]:e.tagNowrap}]},{default:()=>[H.value.map((T,K)=>k(ta,ee({key:`tag-${T.value}`,class:`${m}-tag`,closable:!C.value&&!e.readonly&&T.closable,visible:!0,nowrap:e.tagNowrap},T.tagProps,{onClose:X=>oe(T.value,K,X)}),{default:()=>{var X,W,Ie,Ce;return[(Ce=(Ie=(X=a.tag)==null?void 0:X.call(a,{data:T.raw}))!=null?Ie:(W=e.formatTag)==null?void 0:W.call(e,T.raw))!=null?Ce:T.label]}})),k("input",ee(Ue.value,{ref:s,key:"input-tag-input",class:`${m}-input`,style:x,placeholder:H.value.length===0?e.placeholder:void 0,disabled:C.value,readonly:e.readonly||e.disabledInput,onInput:j,onKeydown:Ke,onFocus:ye,onBlur:Se,onCompositionstart:F,onCompositionupdate:F,onCompositionend:F}),null)]}),ce.value&&k(je,{class:`${m}-clear-btn`,onClick:ne,onMousedown:T=>T.stopPropagation()},{default:()=>[k($l,null,null)]}),(a.suffix||!!O.value)&&k("span",{class:`${m}-suffix`},[(b=a.suffix)==null?void 0:b.call(a),!!O.value&&k(kl,{type:O.value},null)])])}}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const Na=Object.assign(Je,{install:(e,l)=>{Te(e,l);const a=Ee(l);e.component(a+Je.name,Je)}});var bl=Z({name:"SelectView",props:{modelValue:{type:Array,required:!0},inputValue:String,placeholder:String,disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},opened:{type:Boolean,default:!1},size:{type:String},bordered:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},allowCreate:{type:Boolean,default:!1},allowSearch:{type:Boolean,default:e=>pe(e.modelValue)},maxTagCount:{type:Number,default:0},tagNowrap:{type:Boolean,default:!1},retainInputValue:{type:Boolean,default:!1}},emits:["remove","clear","focus","blur"],setup(e,{emit:l,slots:a}){const{size:r,disabled:v,error:o}=se(e),i=le("select-view"),{feedback:t,eventHandlers:f,mergedDisabled:m,mergedSize:s,mergedError:I}=Oe({size:r,disabled:v,error:o}),{mergedSize:S}=sl(s),{opened:C}=se(e),g=$(),O=p(()=>{var _;return(_=g.value)==null?void 0:_.inputRef}),E=p(()=>e.modelValue.length===0),N=p(()=>e.allowSearch||e.allowCreate),z=p(()=>e.allowClear&&!e.disabled&&!E.value),h=_=>{var F,D;l("focus",_),(D=(F=f.value)==null?void 0:F.onFocus)==null||D.call(F,_)},c=_=>{var F,D;l("blur",_),(D=(F=f.value)==null?void 0:F.onBlur)==null||D.call(F,_)},V=_=>{l("remove",_)},n=_=>{l("clear",_)},d=()=>{var _,F,D,P;return e.loading?(F=(_=a["loading-icon"])==null?void 0:_.call(a))!=null?F:k(Wl,null,null):e.allowSearch&&e.opened?(P=(D=a["search-icon"])==null?void 0:D.call(a))!=null?P:k(Ul,null,null):a["arrow-icon"]?a["arrow-icon"]():k(ql,{class:`${i}-arrow-icon`},null)},R=()=>k(il,null,[z.value&&k(je,{class:`${i}-clear-btn`,onClick:n,onMousedown:_=>_.stopPropagation()},{default:()=>[k($l,null,null)]}),k("span",{class:`${i}-icon`},[d()]),!!t.value&&k(kl,{type:t.value},null)]);Y(C,_=>{!_&&O.value&&O.value.isSameNode(document.activeElement)&&O.value.blur()});const x=p(()=>[`${i}-${e.multiple?"multiple":"single"}`,{[`${i}-opened`]:e.opened,[`${i}-borderless`]:!e.bordered}]);return{inputRef:O,handleFocus:h,handleBlur:c,render:()=>e.multiple?k(Na,{ref:g,baseCls:i,class:x.value,modelValue:e.modelValue,inputValue:e.inputValue,focused:e.opened,placeholder:e.placeholder,disabled:m.value,size:S.value,error:I.value,maxTagCount:e.maxTagCount,disabledInput:!e.allowSearch&&!e.allowCreate,tagNowrap:e.tagNowrap,retainInputValue:!0,uninjectFormItemContext:!0,onRemove:V,onFocus:h,onBlur:c},{prefix:a.prefix,suffix:R,tag:a.label}):k(Aa,{ref:g,baseCls:i,class:x.value,modelValue:e.modelValue[0],inputValue:e.inputValue,focused:e.opened,placeholder:e.placeholder,disabled:m.value,size:S.value,error:I.value,enabledInput:N.value,uninjectFormItemContext:!0,onFocus:h,onBlur:c},{default:a.label,prefix:a.prefix,suffix:R})}},methods:{focus(){this.inputRef&&this.inputRef.focus()},blur(){this.inputRef&&this.inputRef.blur()}},render(){return this.render()}});const La=Z({name:"Optgroup",props:{label:{type:String}},setup(){return{prefixCls:le("select-group")}}});function Ha(e,l,a,r,v,o){return G(),ie(il,null,[_e("li",{class:q(`${e.prefixCls}-title`)},[J(e.$slots,"label",{},()=>[ll(al(e.label),1)])],2),J(e.$slots,"default")],64)}var De=$e(La,[["render",Ha]]);const gl=typeof window>"u"?global:window;function Ka(e,l){let a=0;return(...r)=>{a&&gl.clearTimeout(a),a=gl.setTimeout(()=>{a=0,e(...r)},l)}}function Ga(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ql(e)}const Wa={value:"value",label:"label",disabled:"disabled",tagProps:"tagProps",render:"render"};var el=Z({name:"Select",components:{Trigger:vl,SelectView:bl},inheritAttrs:!1,props:{multiple:{type:Boolean,default:!1},modelValue:{type:[String,Number,Boolean,Object,Array],default:void 0},defaultValue:{type:[String,Number,Boolean,Object,Array],default:e=>ze(e.multiple)?"":[]},inputValue:{type:String},defaultInputValue:{type:String,default:""},size:{type:String},placeholder:String,loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},allowSearch:{type:[Boolean,Object],default:e=>!!e.multiple},allowCreate:{type:Boolean,default:!1},maxTagCount:{type:Number,default:0},popupContainer:{type:[String,Object]},bordered:{type:Boolean,default:!0},defaultActiveFirstOption:{type:Boolean,default:!0},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},unmountOnClose:{type:Boolean,default:!1},filterOption:{type:[Boolean,Function],default:!0},options:{type:Array,default:()=>[]},virtualListProps:{type:Object},triggerProps:{type:Object},formatLabel:{type:Function},fallbackOption:{type:[Boolean,Function],default:!0},showExtraOptions:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},searchDelay:{type:Number,default:500},limit:{type:Number,default:0},fieldNames:{type:Object},scrollbar:{type:[Boolean,Object],default:!0},showHeaderOnEmpty:{type:Boolean,default:!1},showFooterOnEmpty:{type:Boolean,default:!1},tagNowrap:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,"update:inputValue":e=>!0,"update:popupVisible":e=>!0,change:e=>!0,inputValueChange:e=>!0,popupVisibleChange:e=>!0,clear:e=>!0,remove:e=>!0,search:e=>!0,dropdownScroll:e=>!0,dropdownReachBottom:e=>!0,exceedLimit:(e,l)=>!0},setup(e,{slots:l,emit:a,attrs:r}){const{size:v,disabled:o,error:i,options:t,filterOption:f,valueKey:m,multiple:s,popupVisible:I,defaultPopupVisible:S,showExtraOptions:C,modelValue:g,fieldNames:O,loading:E,defaultActiveFirstOption:N}=se(e),z=le("select"),{mergedSize:h,mergedDisabled:c,mergedError:V,eventHandlers:n}=Oe({size:v,disabled:o,error:i}),d=p(()=>e.virtualListProps?"div":"li"),R=p(()=>te(e.allowSearch)&&!!e.allowSearch.retainInputValue);p(()=>{if(ge(e.formatLabel))return u=>{const y=W.get(u.value);return e.formatLabel(y)}});const x=$(),w=$({}),_=$(),{computedPopupVisible:F,handlePopupVisibleChange:D}=Pa({popupVisible:I,defaultPopupVisible:S,emit:a}),P=$(e.defaultValue),M=p(()=>{var u;const y=(u=e.modelValue)!=null?u:P.value;return(pe(y)?y:y||me(y)||rl(y)||ol(y)?[y]:[]).map(A=>({value:A,key:xe(A,e.valueKey)}))});Y(g,u=>{(ze(u)||ul(u))&&(P.value=s.value?[]:u)});const j=p(()=>M.value.map(u=>u.key)),L=p(()=>({...Wa,...O?.value})),H=$(),U=u=>{const y={};return u.forEach(B=>{y[B]=W.get(B)}),y},oe=u=>{H.value=U(u)},ne=u=>ge(e.fallbackOption)?e.fallbackOption(u):{[L.value.value]:u,[L.value.label]:String(te(u)?u[m?.value]:u)},ce=()=>{const u=[],y=[];if(e.allowCreate||e.fallbackOption){for(const B of M.value)if(!y.includes(B.key)&&B.value!==""){const A=W.get(B.key);(!A||A.origin==="extraOptions")&&(u.push(B),y.push(B.key))}}if(e.allowCreate&&Q.value){const B=xe(Q.value);if(!y.includes(B)){const A=W.get(B);(!A||A.origin==="extraOptions")&&u.push({value:Q.value,key:B})}}return u},ue=$([]),ye=p(()=>ue.value.map(u=>{var y;let B=ne(u.value);const A=(y=H.value)==null?void 0:y[u.key];return!ze(A)&&!Yl(A)&&(B={...B,...A}),B}));ve(()=>{Zl(()=>{var u;const y=ce();if(y.length!==ue.value.length)ue.value=y;else if(y.length>0){for(let B=0;B<y.length;B++)if(y[B].key!==((u=ue.value[B])==null?void 0:u.key)){ue.value=y;break}}})});const Se=$(""),Q=p(()=>{var u;return(u=e.inputValue)!=null?u:Se.value});Y(F,u=>{!u&&!R.value&&Q.value&&he("")});const Ke=u=>{var y,B;return e.multiple?u.map(A=>{var ke,be;return(be=(ke=W.get(A))==null?void 0:ke.value)!=null?be:""}):(B=(y=W.get(u[0]))==null?void 0:y.value)!=null?B:_a(W)?void 0:""},fe=u=>{var y,B;const A=Ke(u);P.value=A,a("update:modelValue",A),a("change",A),(B=(y=n.value)==null?void 0:y.onChange)==null||B.call(y),oe(u)},he=u=>{Se.value=u,a("update:inputValue",u),a("inputValueChange",u)},Ge=(u,y)=>{if(e.multiple){if(j.value.includes(u)){const B=j.value.filter(A=>A!==u);fe(B)}else if(Ce.value.includes(u))if(e.limit>0&&j.value.length>=e.limit){const B=W.get(u);a("exceedLimit",B?.value,y)}else{const B=j.value.concat(u);fe(B)}R.value||he("")}else{if(u!==j.value[0]&&fe([u]),R.value){const B=W.get(u);B&&he(B.label)}D(!1)}},We=Ka(u=>{a("search",u)},e.searchDelay),Ue=u=>{u!==Q.value&&(F.value||D(!0),he(u),e.allowSearch&&We(u))},dl=u=>{const y=W.get(u),B=j.value.filter(A=>A!==u);fe(B),a("remove",y?.value)},b=u=>{u?.stopPropagation();const y=j.value.filter(B=>{var A;return(A=W.get(B))==null?void 0:A.disabled});fe(y),he(""),a("clear",u)},T=u=>{a("dropdownScroll",u)},K=u=>{a("dropdownReachBottom",u)},{validOptions:X,optionInfoMap:W,validOptionInfos:Ie,enabledOptionKeys:Ce,handleKeyDown:Tl}=za({multiple:s,options:t,extraOptions:ye,inputValue:Q,filterOption:f,showExtraOptions:C,component:d,valueKey:m,fieldNames:O,loading:E,popupVisible:F,valueKeys:j,dropdownRef:x,optionRefs:w,virtualListRef:_,defaultActiveFirstOption:N,onSelect:Ge,onPopupVisibleChange:D}),El=p(()=>{var u;const y=[];for(const B of M.value){const A=W.get(B.key);A&&y.push({...A,value:B.key,label:(u=A?.label)!=null?u:String(te(B.value)?B.value[m?.value]:B.value),closable:!A?.disabled,tagProps:A?.tagProps})}return y}),Fl=u=>{if(ge(l.option)){const y=l.option;return()=>y({data:u.raw})}return ge(u.render)?u.render:()=>u.label},qe=u=>{if(xl(u)){let y;return k(De,{key:u.key,label:u.label},Ga(y=u.options.map(B=>qe(B)))?y:{default:()=>[y]})}return He(u,{inputValue:Q.value,filterOption:f?.value})?k(Ae,{ref:y=>{y?.$el&&(w.value[u.key]=y.$el)},key:u.key,value:u.value,label:u.label,disabled:u.disabled,internal:!0},{default:Fl(u)}):null},Pl=()=>k(ga,{ref:x,loading:e.loading,empty:Ie.value.length===0,virtualList:!!e.virtualListProps,scrollbar:e.scrollbar,showHeaderOnEmpty:e.showHeaderOnEmpty,showFooterOnEmpty:e.showFooterOnEmpty,onScroll:T,onReachBottom:K},{default:()=>{var u,y;return[...(y=(u=l.default)==null?void 0:u.call(l))!=null?y:[],...X.value.map(qe)]},"virtual-list":()=>k(Fa,ee(e.virtualListProps,{ref:_,data:X.value}),{item:({item:u})=>qe(u)}),empty:l.empty,header:l.header,footer:l.footer}),Ml=({data:u})=>{var y,B,A,ke;if((l.label||ge(e.formatLabel))&&u){const be=W.get(u.value);if(be?.raw)return(A=(y=l.label)==null?void 0:y.call(l,{data:be.raw}))!=null?A:(B=e.formatLabel)==null?void 0:B.call(e,be.raw)}return(ke=u?.label)!=null?ke:""};return()=>k(vl,ee({trigger:"click",position:"bl",popupOffset:4,animationName:"slide-dynamic-origin",hideEmpty:!0,preventFocus:!0,autoFitPopupWidth:!0,autoFitTransformOrigin:!0,disabled:c.value,popupVisible:F.value,unmountOnClose:e.unmountOnClose,clickToClose:!(e.allowSearch||e.allowCreate),popupContainer:e.popupContainer,onPopupVisibleChange:D},e.triggerProps),{default:()=>{var u,y;return[(y=(u=l.trigger)==null?void 0:u.call(l))!=null?y:k(bl,ee({class:z,modelValue:El.value,inputValue:Q.value,multiple:e.multiple,disabled:c.value,error:V.value,loading:e.loading,allowClear:e.allowClear,allowCreate:e.allowCreate,allowSearch:!!e.allowSearch,opened:F.value,maxTagCount:e.maxTagCount,placeholder:e.placeholder,bordered:e.bordered,size:h.value,tagNowrap:e.tagNowrap,onInputValueChange:Ue,onRemove:dl,onClear:b,onKeydown:Tl},r),{label:Ml,prefix:l.prefix,"arrow-icon":l["arrow-icon"],"loading-icon":l["loading-icon"],"search-icon":l["search-icon"]})]},content:Pl})}});const at=Object.assign(el,{Option:Ae,OptGroup:De,install:(e,l)=>{Te(e,l);const a=Ee(l);e.component(a+el.name,el),e.component(a+Ae.name,Ae),e.component(a+De.name,De)}});export{ya as C,ra as E,Ae as O,at as S,Fa as V,pa as a,fa as b,Ka as d,cl as i,ma as u};
