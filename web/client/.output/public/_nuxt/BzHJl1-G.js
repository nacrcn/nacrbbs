import{B as k}from"./DZyT-3wr.js";import"./DRQ8spOm.js";import{h as B,r,G as f,c,a as t,d as b,t as m,j as o,F as C,v as I,b as g,w as V,o as d,n as A,q as N,l as U}from"./CbujNTzC.js";import{_ as P}from"./DlAUqK2U.js";import{I as F}from"./FmfuZiTj.js";import{M as S}from"./C4FomA2R.js";import"./BW_FzNZC.js";import"./CYhUeftq.js";import"./7FLWgqLH.js";const T={class:"TopUpPage"},z={class:"Page"},M={class:"PageHeader"},O={class:"current-balance"},$={class:"amount"},j={class:"Pagecontent"},q={class:"section"},D={class:"amount-grid"},E=["onClick"],G={class:"amount-value"},H={class:"custom-amount"},J={class:"section"},L={__name:"withdraw",setup(K){const p=B();p.init();const h=r(p.$state.UserInfo?.n_balance||"0.00"),_=r(0),u=r(null),i=r(!1),v=r([{amount:10,bonus:0},{amount:50,bonus:5},{amount:100,bonus:12},{amount:200,bonus:30},{amount:500,bonus:80},{amount:1e3,bonus:200}]),w=f(()=>_.value>0?_.value:u.value&&u.value>0?u.value:0);f(()=>{const n=w.value,s=v.value.find(l=>l.amount===n);return s?s.bonus:0});const e=r({type:1,price:10}),y=async()=>{i.value=!0;const n=await N().post("/api/CreateOrder",{from:JSON.stringify([e.value])});n.code===200?U("/user/order/"+n.data.order):S.error(n.msg),i.value=!1};return(n,s)=>{const l=F,x=k;return d(),c("div",T,[t("div",z,[t("div",M,[s[2]||(s[2]=t("h2",null,"余额提现",-1)),t("p",O,[s[1]||(s[1]=b("当前余额：",-1)),t("span",$,"¥"+m(o(h)),1)])]),t("div",j,[t("div",q,[s[4]||(s[4]=t("h3",null,"选择充值金额",-1)),t("div",D,[(d(!0),c(C,null,I(o(v),a=>(d(),c("div",{key:a.amount,class:A(["amount-item",{active:o(e).price===a.amount}]),onClick:Q=>o(e).price=a.amount},[t("div",G,"¥"+m(a.amount),1)],10,E))),128))]),t("div",H,[g(l,{modelValue:o(e).price,"onUpdate:modelValue":s[0]||(s[0]=a=>o(e).price=a),placeholder:"自定义金额",min:1,max:1e4,style:{width:"200px"}},null,8,["modelValue"]),s[3]||(s[3]=t("span",{class:"unit"},"元",-1))])]),t("div",J,[g(x,{type:"primary",size:"large",loading:o(i),onClick:y,class:"submit-btn"},{default:V(()=>[b(" 立即充值 ¥"+m(o(e).price),1)]),_:1},8,["loading"]),s[5]||(s[5]=t("div",{class:"tips"},[t("p",null,"• 充值成功后余额将立即到账"),t("p",null,"• 如遇问题请联系客服")],-1))])])])])}}},nt=P(L,[["__scopeId","data-v-f4ee8487"]]);export{nt as default};
